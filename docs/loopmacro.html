<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Schleifen aus Macros | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Schleifen aus Macros | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Schleifen aus Macros | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Andreas Filser" />


<meta name="date" content="2022-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="macro.html"/>
<link rel="next" href="regres.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Stata @ BIBB</a></li>

<li class="divider"></li>
<li><a href="index.html#herzlich-willkommen">Herzlich Willkommen<span></span></a></li>
<li class="chapter" data-level="1" data-path="macro.html"><a href="macro.html"><i class="fa fa-check"></i><b>1</b> Macros<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="macro.html"><a href="macro.html#macht-einen-unterschied"><i class="fa fa-check"></i><b>1.1</b> <code>=</code> macht einen Unterschied<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="macro.html"><a href="macro.html#local-und-global-sind-getrennte-welten"><i class="fa fa-check"></i><b>1.2</b> <code>local</code> und <code>global</code> sind getrennte Welten<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="macro.html"><a href="macro.html#macros-mit-text"><i class="fa fa-check"></i><b>1.3</b> Macros mit Text<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="macro.html"><a href="macro.html#dateipfade"><i class="fa fa-check"></i><b>1.4</b> Dateipfade<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="macro.html"><a href="macro.html#cmac"><i class="fa fa-check"></i><b>1.5</b> Bereits definierte Macros<span></span></a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="macro.html"><a href="macro.html#if1"><i class="fa fa-check"></i><b>1.5.1</b> <code>if</code><span></span></a></li>
<li class="chapter" data-level="1.5.2" data-path="macro.html"><a href="macro.html#macros-als-variablennamen-und-befehle"><i class="fa fa-check"></i><b>1.5.2</b> Macros als Variablennamen und Befehle<span></span></a></li>
<li class="chapter" data-level="1.5.3" data-path="macro.html"><a href="macro.html#allglo"><i class="fa fa-check"></i><b>1.5.3</b> <code>globals</code> durchsuchen<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="macro.html"><a href="macro.html#wenn-nicht-if-dann-else"><i class="fa fa-check"></i><b>1.6</b> Wenn nicht <code>if</code>, dann <code>else</code><span></span></a></li>
<li class="chapter" data-level="1.7" data-path="macro.html"><a href="macro.html#schleifen-foreach-forvalues"><i class="fa fa-check"></i><b>1.7</b> Schleifen: <code>foreach</code> &amp; <code>forvalues</code><span></span></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="macro.html"><a href="macro.html#ferest"><i class="fa fa-check"></i><b>1.7.1</b> <code>ferest()</code><span></span></a></li>
<li class="chapter" data-level="1.7.2" data-path="macro.html"><a href="macro.html#weitere-schleifentypen"><i class="fa fa-check"></i><b>1.7.2</b> Weitere Schleifentypen<span></span></a></li>
<li class="chapter" data-level="1.7.3" data-path="macro.html"><a href="macro.html#anwendung"><i class="fa fa-check"></i><b>1.7.3</b> Anwendung<span></span></a></li>
<li class="chapter" data-level="1.7.4" data-path="macro.html"><a href="macro.html#schleifen-aufbauen"><i class="fa fa-check"></i><b>1.7.4</b> Schleifen aufbauen<span></span></a></li>
<li class="chapter" data-level="1.7.5" data-path="macro.html"><a href="macro.html#nested-loop"><i class="fa fa-check"></i><b>1.7.5</b> nested loop<span></span></a></li>
<li class="chapter" data-level="1.7.6" data-path="macro.html"><a href="macro.html#display-vs.-macro-list"><i class="fa fa-check"></i><b>1.7.6</b> <code>display</code> vs. <code>macro list</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="macro.html"><a href="macro.html#übungen"><i class="fa fa-check"></i><b>1.8</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="macro.html"><a href="macro.html#ue0"><i class="fa fa-check"></i><b>1.8.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="macro.html"><a href="macro.html#ue1"><i class="fa fa-check"></i><b>1.8.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="1.8.3" data-path="macro.html"><a href="macro.html#ue2"><i class="fa fa-check"></i><b>1.8.3</b> FizzBuzz-Challenge<span></span></a></li>
<li class="chapter" data-level="1.8.4" data-path="macro.html"><a href="macro.html#ue3"><i class="fa fa-check"></i><b>1.8.4</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="macro.html"><a href="macro.html#anhang"><i class="fa fa-check"></i><b>1.9</b> Anhang<span></span></a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="macro.html"><a href="macro.html#dir"><i class="fa fa-check"></i><b>1.9.1</b> Windows Dateipfade mit macros<span></span></a></li>
<li class="chapter" data-level="1.9.2" data-path="macro.html"><a href="macro.html#debugging-wo-ist-der-wurm-drin"><i class="fa fa-check"></i><b>1.9.2</b> Debugging: Wo ist der Wurm drin?<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="loopmacro.html"><a href="loopmacro.html"><i class="fa fa-check"></i><b>2</b> Schleifen aus Macros<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="loopmacro.html"><a href="loopmacro.html#local-erstellen-und-für-schleifen-verwenden"><i class="fa fa-check"></i><b>2.1</b> local erstellen und für Schleifen verwenden<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="loopmacro.html"><a href="loopmacro.html#schleifen-über-strings"><i class="fa fa-check"></i><b>2.2</b> Schleifen über strings<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="loopmacro.html"><a href="loopmacro.html#wörter-indizieren"><i class="fa fa-check"></i><b>2.2.1</b> Wörter indizieren<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="loopmacro.html"><a href="loopmacro.html#wörter-zählen"><i class="fa fa-check"></i><b>2.2.2</b> Wörter zählen<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="loopmacro.html"><a href="loopmacro.html#wörter-in-schleife"><i class="fa fa-check"></i><b>2.2.3</b> Wörter in Schleife<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="loopmacro.html"><a href="loopmacro.html#informationen-aus-schleifen-behalten"><i class="fa fa-check"></i><b>2.3</b> Informationen aus Schleifen behalten<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="loopmacro.html"><a href="loopmacro.html#gespeichterte-ergebnisse"><i class="fa fa-check"></i><b>2.3.1</b> Gespeichterte Ergebnisse<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="loopmacro.html"><a href="loopmacro.html#e-und-r-sind-getrennte-welten"><i class="fa fa-check"></i><b>2.3.2</b> <code>e()</code> und <code>r()</code> sind getrennte Welten<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="loopmacro.html"><a href="loopmacro.html#ergebnisse-weiter-verwenden"><i class="fa fa-check"></i><b>2.4</b> Ergebnisse weiter verwenden<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="loopmacro.html"><a href="loopmacro.html#recur"><i class="fa fa-check"></i><b>2.4.1</b> Rekursivität<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="loopmacro.html"><a href="loopmacro.html#mat1"><i class="fa fa-check"></i><b>2.5</b> Kennzahlen in einer <code>matrix</code> ablegen<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="loopmacro.html"><a href="loopmacro.html#namen-für-spalten-und-zeilen-einer-matrix"><i class="fa fa-check"></i><b>2.5.1</b> Namen für Spalten und Zeilen einer <code>matrix</code><span></span></a></li>
<li class="chapter" data-level="2.5.2" data-path="loopmacro.html"><a href="loopmacro.html#mcollect"><i class="fa fa-check"></i><b>2.5.2</b> <code>matrix</code> erstellen<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="loopmacro.html"><a href="loopmacro.html#labels-behalten"><i class="fa fa-check"></i><b>2.6</b> Labels behalten<span></span></a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="loopmacro.html"><a href="loopmacro.html#labfun"><i class="fa fa-check"></i><b>2.6.1</b> <code>extended macro function</code> für Labels<span></span></a></li>
<li class="chapter" data-level="2.6.2" data-path="loopmacro.html"><a href="loopmacro.html#mrown"><i class="fa fa-check"></i><b>2.6.2</b> Labels als <code>rowname</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="loopmacro.html"><a href="loopmacro.html#von-der-matrix-zum-datensatz"><i class="fa fa-check"></i><b>2.7</b> Von der <code>matrix</code> zum Datensatz<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="loopmacro.html"><a href="loopmacro.html#frame"><i class="fa fa-check"></i><b>2.8</b> <code>frame</code>: mehrere Datensätze in Stata<span></span></a></li>
<li class="chapter" data-level="2.9" data-path="loopmacro.html"><a href="loopmacro.html#übungen-1"><i class="fa fa-check"></i><b>2.9</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="loopmacro.html"><a href="loopmacro.html#loop1"><i class="fa fa-check"></i><b>2.9.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.2" data-path="loopmacro.html"><a href="loopmacro.html#retue1"><i class="fa fa-check"></i><b>2.9.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.3" data-path="loopmacro.html"><a href="loopmacro.html#retue2"><i class="fa fa-check"></i><b>2.9.3</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.4" data-path="loopmacro.html"><a href="loopmacro.html#retue3"><i class="fa fa-check"></i><b>2.9.4</b> Übung<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regres.html"><a href="regres.html"><i class="fa fa-check"></i><b>3</b> Regressionsergebnisse weiterverarbeiten<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="regres.html"><a href="regres.html#e-und-r-der-regressionsergebnisse"><i class="fa fa-check"></i><b>3.1</b> <code>e()</code> und <code>r()</code> der Regressionsergebnisse<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="regres.html"><a href="regres.html#koeffizienten-mit-_b-_se-aufrufen"><i class="fa fa-check"></i><b>3.1.1</b> Koeffizienten mit <code>_b</code> / <code>_se</code> aufrufen<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="regres.html"><a href="regres.html#komplette-regressionstabelle"><i class="fa fa-check"></i><b>3.1.2</b> Komplette Regressionstabelle<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="regres.html"><a href="regres.html#regressionstabellen-als-matrix-speichern-und-anpassen"><i class="fa fa-check"></i><b>3.2</b> Regressionstabellen als <code>matrix</code> speichern und anpassen<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="regres.html"><a href="regres.html#kategoriale-uv"><i class="fa fa-check"></i><b>3.3</b> kategoriale UV<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="regres.html"><a href="regres.html#als-datensatz-ablegen"><i class="fa fa-check"></i><b>3.4</b> Als Datensatz ablegen:<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="regres.html"><a href="regres.html#weitere-infos-aus-e"><i class="fa fa-check"></i><b>3.5</b> weitere Infos aus <code>e()</code><span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="regres.html"><a href="regres.html#esample"><i class="fa fa-check"></i><b>3.5.1</b> <code>e(sample)</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="regres.html"><a href="regres.html#reg-schrittweise-aufbauen"><i class="fa fa-check"></i><b>3.6</b> <code>reg</code> schrittweise aufbauen<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="regres.html"><a href="regres.html#übungen-2"><i class="fa fa-check"></i><b>3.7</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="regres.html"><a href="regres.html#reg1"><i class="fa fa-check"></i><b>3.7.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="3.7.2" data-path="regres.html"><a href="regres.html#reg2"><i class="fa fa-check"></i><b>3.7.2</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="regres.html"><a href="regres.html#anhang-1"><i class="fa fa-check"></i><b>3.8</b> Anhang<span></span></a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="regres.html"><a href="regres.html#statsby"><i class="fa fa-check"></i><b>3.8.1</b> <code>statsby</code><span></span></a></li>
<li class="chapter" data-level="3.8.2" data-path="regres.html"><a href="regres.html#reg-ergebnisse-für-modelle-sammeln-schleife"><i class="fa fa-check"></i><b>3.8.2</b> <code>reg</code>-Ergebnisse für Modelle sammeln: Schleife<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="labmacro.html"><a href="labmacro.html"><i class="fa fa-check"></i><b>4</b> Label- und Variablenfunktionen<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="labmacro.html"><a href="labmacro.html#stringfunktionen"><i class="fa fa-check"></i><b>4.1</b> Stringfunktionen<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="labmacro.html"><a href="labmacro.html#arbeiten-mit-regular-expressions"><i class="fa fa-check"></i><b>4.2</b> Arbeiten mit “Regular Expressions”<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="labmacro.html"><a href="labmacro.html#regex-grund-regeln"><i class="fa fa-check"></i><b>4.2.1</b> regex (Grund-)Regeln<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="labmacro.html"><a href="labmacro.html#beispiele"><i class="fa fa-check"></i><b>4.2.2</b> Beispiele<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="labmacro.html"><a href="labmacro.html#weiterführende-links"><i class="fa fa-check"></i><b>4.2.3</b> Weiterführende Links<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="labmacro.html"><a href="labmacro.html#labfuns"><i class="fa fa-check"></i><b>4.3</b> Label bearbeiten<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="labmacro.html"><a href="labmacro.html#abgleiche"><i class="fa fa-check"></i><b>4.4</b> Abgleiche<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="labmacro.html"><a href="labmacro.html#valsearch"><i class="fa fa-check"></i><b>4.5</b> wo kommt überall -4 vor?<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="labmacro.html"><a href="labmacro.html#übungen-3"><i class="fa fa-check"></i><b>4.6</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="labmacro.html"><a href="labmacro.html#strue"><i class="fa fa-check"></i><b>4.6.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.2" data-path="labmacro.html"><a href="labmacro.html#regexue"><i class="fa fa-check"></i><b>4.6.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.3" data-path="labmacro.html"><a href="labmacro.html#varlab"><i class="fa fa-check"></i><b>4.6.3</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.4" data-path="labmacro.html"><a href="labmacro.html#valuesearch"><i class="fa fa-check"></i><b>4.6.4</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="labmacro.html"><a href="labmacro.html#anhang-2"><i class="fa fa-check"></i><b>4.7</b> Anhang<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> Dateien- und DoFile-Verwaltung<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#dir---alles-einlesen"><i class="fa fa-check"></i><b>5.1</b> <code>dir</code> - alles einlesen<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data.html"><a href="data.html#copy"><i class="fa fa-check"></i><b>5.1.1</b> <code>copy</code><span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="data.html"><a href="data.html#erase"><i class="fa fa-check"></i><b>5.1.2</b> <code>erase</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#verzeichnisse-dofiles-erstellen"><i class="fa fa-check"></i><b>5.2</b> Verzeichnisse &amp; DoFiles erstellen<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#master-dofile"><i class="fa fa-check"></i><b>5.3</b> Master DoFile<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data.html"><a href="data.html#dofile-mit-argumenten-starten"><i class="fa fa-check"></i><b>5.3.1</b> DoFile mit Argumenten starten<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="data.html"><a href="data.html#in-neuer-session-starten"><i class="fa fa-check"></i><b>5.3.2</b> in neuer Session starten<span></span></a></li>
<li class="chapter" data-level="5.3.3" data-path="data.html"><a href="data.html#mehrere-sessions-starten"><i class="fa fa-check"></i><b>5.3.3</b> mehrere Sessions starten<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#übungen-4"><i class="fa fa-check"></i><b>5.4</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data.html"><a href="data.html#dir_readin"><i class="fa fa-check"></i><b>5.4.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="data.html"><a href="data.html#masterdofile"><i class="fa fa-check"></i><b>5.4.2</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data.html"><a href="data.html#anhang-3"><i class="fa fa-check"></i><b>5.5</b> Anhang<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="misc.html"><a href="misc.html"><i class="fa fa-check"></i><b>6</b> Weitere <code>macro</code> &amp; <code>matrix</code> Funktionen<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="misc.html"><a href="misc.html#capture"><i class="fa fa-check"></i><b>6.1</b> <code>capture</code><span></span></a></li>
<li class="chapter" data-level="6.2" data-path="misc.html"><a href="misc.html#macro-extended-functions-for-parsing"><i class="fa fa-check"></i><b>6.2</b> Macro extended functions for parsing<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="misc.html"><a href="misc.html#weitere-matrix-befehle"><i class="fa fa-check"></i><b>6.3</b> weitere <code>matrix</code>-Befehle<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="misc.html"><a href="misc.html#teilmatrizen"><i class="fa fa-check"></i><b>6.3.1</b> Teilmatrizen<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="misc.html"><a href="misc.html#spaltenzeilen-auswählen"><i class="fa fa-check"></i><b>6.3.2</b> Spalten/Zeilen auswählen<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="misc.html"><a href="misc.html#crnumb"><i class="fa fa-check"></i><b>6.3.3</b> Namensbasierte Auswahl<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lit.html"><a href="lit.html"><i class="fa fa-check"></i><b>7</b> Literatur &amp; Links<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="loopmacro" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Schleifen aus Macros<a href="loopmacro.html#loopmacro" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="local-erstellen-und-für-schleifen-verwenden" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> local erstellen und für Schleifen verwenden<a href="loopmacro.html#local-erstellen-und-für-schleifen-verwenden" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Schleifen aus globals / locals mit Hilfe von <code>levelsof</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb68-1"><a href="loopmacro.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tab</span> m1202</span>
<span id="cb68-2"><a href="loopmacro.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> m1202</span>
<span id="cb68-3"><a href="loopmacro.html#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="loopmacro.html#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> m1202, loc(ausb)</span>
<span id="cb68-5"><a href="loopmacro.html#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">local</span> ausb {</span>
<span id="cb68-6"><a href="loopmacro.html#cb68-6" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;m1202: &quot;</span> <span class="ot">`lvl&#39;</span></span>
<span id="cb68-7"><a href="loopmacro.html#cb68-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-8"><a href="loopmacro.html#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="loopmacro.html#cb68-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-10"><a href="loopmacro.html#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> m1202, loc(ausb)</span>
<span id="cb68-11"><a href="loopmacro.html#cb68-11" aria-hidden="true" tabindex="-1"></a>glo ausb <span class="ot">`ausb&#39;</span></span>
<span id="cb68-12"><a href="loopmacro.html#cb68-12" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">l</span> ausb</span>
<span id="cb68-13"><a href="loopmacro.html#cb68-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-14"><a href="loopmacro.html#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb68-15"><a href="loopmacro.html#cb68-15" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;m1202: &quot;</span> <span class="ot">`lvl&#39;</span></span>
<span id="cb68-16"><a href="loopmacro.html#cb68-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-17"><a href="loopmacro.html#cb68-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-18"><a href="loopmacro.html#cb68-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-19"><a href="loopmacro.html#cb68-19" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb68-20"><a href="loopmacro.html#cb68-20" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;m1202: &quot;</span> <span class="ot">`lvl&#39;</span></span>
<span id="cb68-21"><a href="loopmacro.html#cb68-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">tab</span> S1 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb68-22"><a href="loopmacro.html#cb68-22" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="schleifen-über-strings" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Schleifen über strings<a href="loopmacro.html#schleifen-über-strings" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="wörter-indizieren" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Wörter indizieren<a href="loopmacro.html#wörter-indizieren" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb69"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb69-1"><a href="loopmacro.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> phrase <span class="st">`&quot;</span> <span class="st">&quot;2 guys&quot;</span> <span class="st">&quot;1 girl&quot;</span> <span class="st">&quot;1 pizza place&quot;</span> <span class="st">&quot;&#39;</span></span>
<span id="cb69-2"><a href="loopmacro.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="st">di &quot;</span><span class="ot">`:word 2 of `phrase&#39;</span> &#39;<span class="st">&quot;</span></span>
<span id="cb69-3"><a href="loopmacro.html#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="st">1 girl</span></span></code></pre></div>
</div>
<div id="wörter-zählen" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Wörter zählen<a href="loopmacro.html#wörter-zählen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb70"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb70-1"><a href="loopmacro.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> sentence <span class="st">&quot;here is a sentence 7&quot;</span></span>
<span id="cb70-2"><a href="loopmacro.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> len: <span class="fu">word</span> <span class="fu">count</span> <span class="ot">`sentence&#39;</span></span>
<span id="cb70-3"><a href="loopmacro.html#cb70-3" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">list</span> _len</span>
<span id="cb70-4"><a href="loopmacro.html#cb70-4" aria-hidden="true" tabindex="-1"></a>_len:           5</span></code></pre></div>
</div>
<div id="wörter-in-schleife" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Wörter in Schleife<a href="loopmacro.html#wörter-in-schleife" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb71"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb71-1"><a href="loopmacro.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> phrase1 <span class="st">&quot;here is a sentence of 7 words&quot;</span></span>
<span id="cb71-2"><a href="loopmacro.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> len1: <span class="fu">word</span> <span class="fu">count</span> <span class="ot">`phrase1&#39;</span></span>
<span id="cb71-3"><a href="loopmacro.html#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="loopmacro.html#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="kw">forvalues</span> i = 1(1)<span class="ot">`len1&#39;</span> {</span>
<span id="cb71-5"><a href="loopmacro.html#cb71-5" aria-hidden="true" tabindex="-1"></a>    loc <span class="fu">word</span>: <span class="fu">word</span> <span class="ot">`i&#39;</span> <span class="kw">of</span> <span class="ot">`phrase1&#39;</span></span>
<span id="cb71-6"><a href="loopmacro.html#cb71-6" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;this is word number &quot;</span> <span class="ot">`i&#39;</span> <span class="st">&quot;: `word&#39;&quot;</span></span>
<span id="cb71-7"><a href="loopmacro.html#cb71-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb71-8"><a href="loopmacro.html#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 1: here</span>
<span id="cb71-9"><a href="loopmacro.html#cb71-9" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 2: is</span>
<span id="cb71-10"><a href="loopmacro.html#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 3: a</span>
<span id="cb71-11"><a href="loopmacro.html#cb71-11" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 4: sentence</span>
<span id="cb71-12"><a href="loopmacro.html#cb71-12" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 5: <span class="kw">of</span></span>
<span id="cb71-13"><a href="loopmacro.html#cb71-13" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 6: 7</span>
<span id="cb71-14"><a href="loopmacro.html#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="kw">this</span> is <span class="fu">word</span> number 7: words</span></code></pre></div>
<p>… dabei macht es einen Unterschied, wo die <code>""</code> stehen:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb72-1"><a href="loopmacro.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> phrase2 <span class="st">`&quot;</span> <span class="st">&quot;here is&quot;</span> <span class="st">&quot;a sentence&quot;</span> <span class="st">&quot;of 7 words&quot;</span> <span class="st">&quot;&#39;</span></span>
<span id="cb72-2"><a href="loopmacro.html#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="st">local len2: word count `phrase2&#39;</span></span>
<span id="cb72-3"><a href="loopmacro.html#cb72-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-4"><a href="loopmacro.html#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="st">forvalues i = 1(1)`len2&#39; {</span></span>
<span id="cb72-5"><a href="loopmacro.html#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="st">    loc word: word `i&#39; of `phrase2&#39;</span></span>
<span id="cb72-6"><a href="loopmacro.html#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="st">    dis &quot;</span>this is <span class="fu">word</span> number <span class="st">&quot; `i&#39; &quot;</span>: <span class="ot">`word&#39;</span><span class="st">&quot;</span></span>
<span id="cb72-7"><a href="loopmacro.html#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb72-8"><a href="loopmacro.html#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="st">this is word number 1: here is</span></span>
<span id="cb72-9"><a href="loopmacro.html#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="st">this is word number 2: a sentence</span></span>
<span id="cb72-10"><a href="loopmacro.html#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="st">this is word number 3: of 7 words</span></span></code></pre></div>
<hr />
<p><strong><a href="#loop">Übung</a></strong></p>
<hr />
</div>
</div>
<div id="informationen-aus-schleifen-behalten" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Informationen aus Schleifen behalten<a href="loopmacro.html#informationen-aus-schleifen-behalten" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="gespeichterte-ergebnisse" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Gespeichterte Ergebnisse<a href="loopmacro.html#gespeichterte-ergebnisse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um auf Ergebnisse zuzugreifen, können wir etwas hinter die Kulissen der Stata-Befehle sehen:</p>
<table class="table table-condensed" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;color: white !important;">
Befehl
</th>
<th style="text-align:left;color: white !important;">
zeigt alle
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-family: monospace;">
c-class
</td>
<td style="text-align:left;">
system parameters &amp; settings finden wir als <code>c()</code> - siehe <a href="macro.html#cmac">`<code>c(username)'</code></a>
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
r-class
</td>
<td style="text-align:left;">
die meisten deskriptiven Befehle speichern die Ergebnisse in in <code>r()</code>
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
e-class
</td>
<td style="text-align:left;">
…außer estimation commands, wie bspw. <code>reg</code> - hier wird in <code>e()</code> gespeichert (Postestimates)
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
s-class
</td>
<td style="text-align:left;">
parsing commands store results in <code>s()</code> used by programmers
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
n-class
</td>
<td style="text-align:left;">
commands that do not store in <code>r()</code>, <code>e()</code>, oder <code>s()</code>
</td>
</tr>
</tbody>
</table>
<p>Jeweils alle Werte anzeigen mit:</p>
<table class="table table-condensed" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Befehl
</th>
<th style="text-align:left;">
zeigt alle
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-family: monospace;">
return list
</td>
<td style="text-align:left;font-family: monospace;">
r()
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
ereturn list
</td>
<td style="text-align:left;font-family: monospace;">
e()
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
sreturn list
</td>
<td style="text-align:left;font-family: monospace;">
s()
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
creturn list
</td>
<td style="text-align:left;font-family: monospace;">
c()
</td>
</tr>
</tbody>
</table>
<p>Es gibt dabei vier Typen an Ergebnissen:</p>
<ul>
<li><code>macro</code>: strings mit mehreren Wörtern (Text)</li>
<li><code>matrix</code>: bspw. <code>e(b)</code> sind die Koeffizienten nach einem <code>reg</code>-Befehl oder <code>e(V)</code> ist die Varianz–Kovarianz Matrix der estimates (VCE)</li>
<li><code>scalar</code>: einzelne Zahlen/Strings (1x1 Matrizen)</li>
<li><code>functions</code>: bspw. <code>e(sample)</code> <span class="math inline">\(\Rightarrow\)</span> 1 (true) wenn die Beobachtung im vorheringen “estimation command” verwendet wurde und 0 (false) wenn nicht</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb73-1"><a href="loopmacro.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tab</span> S1</span>
<span id="cb73-2"><a href="loopmacro.html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span> <span class="ot">list</span></span></code></pre></div>
<pre><code> Geschlecht |      Freq.     Percent        Cum.
------------+-----------------------------------
   mÃ¤nnlich |     10,074       50.34       50.34
   weiblich |      9,938       49.66      100.00
------------+-----------------------------------
      Total |     20,012      100.00


scalars:
                  r(N) =  20012
                  r(r) =  2</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb75-1"><a href="loopmacro.html#cb75-1" aria-hidden="true" tabindex="-1"></a>su S1</span>
<span id="cb75-2"><a href="loopmacro.html#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span> <span class="ot">list</span></span></code></pre></div>
<pre><code>    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
          S1 |     20,012    1.496602    .5000009          1          2


scalars:
                  r(N) =  20012
              r(sum_w) =  20012
               r(mean) =  1.496602038776734
                r(Var) =  .2500009464113147
                 r(sd) =  .500000946410419
                r(min) =  1
                r(max) =  2
                r(sum) =  29950</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb77-1"><a href="loopmacro.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> F518_SUF zpalter </span>
<span id="cb77-2"><a href="loopmacro.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ereturn</span> <span class="ot">list</span></span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =    16,543
-------------+----------------------------------   F(1, 16541)     =    105.36
       Model |  1.3092e+09         1  1.3092e+09   Prob &gt; F        =    0.0000
    Residual |  2.0555e+11    16,541    12426773   R-squared       =    0.0063
-------------+----------------------------------   Adj R-squared   =    0.0063
       Total |  2.0686e+11    16,542    12505168   Root MSE        =    3525.2

------------------------------------------------------------------------------
    F518_SUF |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
     zpalter |   24.62253   2.398848    10.26   0.000     19.92053    29.32453
       _cons |    2381.28    115.577    20.60   0.000     2154.736    2607.823
------------------------------------------------------------------------------


scalars:
                  e(N) =  16543
               e(df_m) =  1
               e(df_r) =  16541
                  e(F) =  105.3561454498825
                 e(r2) =  .0063290815436915
               e(rmse) =  3525.162828161657
                e(mss) =  1309236899.97876
                e(rss) =  205551251614.9366
               e(r2_a) =  .0062690083366028
                 e(ll) =  -158590.4618746699
               e(ll_0) =  -158642.9792418738
               e(rank) =  2

macros:
            e(cmdline) : &quot;regress F518_SUF zpalter&quot;
              e(title) : &quot;Linear regression&quot;
          e(marginsok) : &quot;XB default&quot;
                e(vce) : &quot;ols&quot;
             e(depvar) : &quot;F518_SUF&quot;
                e(cmd) : &quot;regress&quot;
         e(properties) : &quot;b V&quot;
            e(predict) : &quot;regres_p&quot;
              e(model) : &quot;ols&quot;
          e(estat_cmd) : &quot;regress_estat&quot;

matrices:
                  e(b) :  1 x 2
                  e(V) :  2 x 2

functions:
             e(sample)   </code></pre>
<p>Anstatt zu versuchen, den Überblick darüber zu behalten, was wo gespeichert wird, finden wir ganz unten in jeder Hilfedatei einen Hinweis wie
“<code>summarize</code> stores the following in <code>r()</code>:” or “<code>mean</code> stores the following in <code>e()</code>” - entsprechend sehen wir die Ergebnisse in <code>return</code> bzw. <code>ereturn</code>.</p>
</div>
<div id="e-und-r-sind-getrennte-welten" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> <code>e()</code> und <code>r()</code> sind getrennte Welten<a href="loopmacro.html#e-und-r-sind-getrennte-welten" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Neben dem Prinzip “One Data” folgt Stata auch dem Prinzip “One _-class”.
Das bedeutet, dass wir nur den return oder ereturn für den letzten Befehl <em>dieser</em> Klasse sehen können.
Wenn wir also <code>reg</code> ausführen und dann eine Reihe von r-Klassen-Aufrufen machen (z.B. <code>su</code>), wird uns der Aufruf von <code>ereturn</code> immer noch die Werte für <code>reg</code> anzeigen.
Sobald wir jedoch einen weiteren r-class-Befehl ausführen, verlieren wir den Zugriff auf die Ergebnisse des ersten Befehls.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb79-1"><a href="loopmacro.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> az F200</span>
<span id="cb79-2"><a href="loopmacro.html#cb79-2" aria-hidden="true" tabindex="-1"></a>su az</span>
<span id="cb79-3"><a href="loopmacro.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ereturn</span> <span class="ot">list</span></span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =    17,376
-------------+----------------------------------   F(1, 17374)     =  33637.44
       Model |  1269310.92         1  1269310.92   Prob &gt; F        =    0.0000
    Residual |  655608.985    17,374   37.735063   R-squared       =    0.6594
-------------+----------------------------------   Adj R-squared   =    0.6594
       Total |   1924919.9    17,375  110.786757   Root MSE        =    6.1429

------------------------------------------------------------------------------
          az |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        F200 |   .9897533   .0053965   183.41   0.000     .9791755    1.000331
       _cons |   3.937849   .1903973    20.68   0.000     3.564651    4.311047
------------------------------------------------------------------------------

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
          az |     20,012    38.30557    11.75297         10        120


scalars:
                  e(N) =  17376
               e(df_m) =  1
               e(df_r) =  17374
                  e(F) =  33637.43995203968
                 e(r2) =  .6594097320849045
               e(rmse) =  6.142887188019294
                e(mss) =  1269310.915908093
                e(rss) =  655608.9846442067
               e(r2_a) =  .6593901286390708
                 e(ll) =  -56197.03934279057
               e(ll_0) =  -65554.6676770772
               e(rank) =  2

macros:
            e(cmdline) : &quot;regress az F200&quot;
              e(title) : &quot;Linear regression&quot;
          e(marginsok) : &quot;XB default&quot;
                e(vce) : &quot;ols&quot;
             e(depvar) : &quot;az&quot;
                e(cmd) : &quot;regress&quot;
         e(properties) : &quot;b V&quot;
            e(predict) : &quot;regres_p&quot;
              e(model) : &quot;ols&quot;
          e(estat_cmd) : &quot;regress_estat&quot;

matrices:
                  e(b) :  1 x 2
                  e(V) :  2 x 2

functions:
             e(sample)   </code></pre>
<!-- https://cscar.github.io/workshop-stata-intro/programming-advanced-features.html -->
</div>
</div>
<div id="ergebnisse-weiter-verwenden" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Ergebnisse weiter verwenden<a href="loopmacro.html#ergebnisse-weiter-verwenden" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alle diese Informationen können wir mit einem Makro speichern bzw. weiter verarbeiten.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb81-1"><a href="loopmacro.html#cb81-1" aria-hidden="true" tabindex="-1"></a>su S1</span>
<span id="cb81-2"><a href="loopmacro.html#cb81-2" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;Der Mittelwert beträgt: &quot;</span> <span class="fu">r</span>(<span class="kw">mean</span>)</span></code></pre></div>
<pre><code>Der Mittelwert beträgt: 1.496602</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb83-1"><a href="loopmacro.html#cb83-1" aria-hidden="true" tabindex="-1"></a>su S1</span>
<span id="cb83-2"><a href="loopmacro.html#cb83-2" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;Der Mittelwert beträgt: &quot;</span> <span class="fu">round</span>(<span class="fu">r</span>(<span class="kw">mean</span>),.01)</span></code></pre></div>
<pre><code>Der Mittelwert beträgt: 1.5</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb85-1"><a href="loopmacro.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb85-2"><a href="loopmacro.html#cb85-2" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;m1202: &quot;</span> <span class="ot">`lvl&#39;</span></span>
<span id="cb85-3"><a href="loopmacro.html#cb85-3" aria-hidden="true" tabindex="-1"></a>    su S01 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb85-4"><a href="loopmacro.html#cb85-4" aria-hidden="true" tabindex="-1"></a>    dis <span class="fu">r</span>(<span class="kw">mean</span>)</span>
<span id="cb85-5"><a href="loopmacro.html#cb85-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-6"><a href="loopmacro.html#cb85-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-7"><a href="loopmacro.html#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb85-8"><a href="loopmacro.html#cb85-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su S01 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb85-9"><a href="loopmacro.html#cb85-9" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;Der Frauenanteil in m1202=&quot;</span> <span class="ot">`lvl&#39;</span> <span class="st">&quot; beträgt: &quot;</span> <span class="fu">round</span>(<span class="fu">r</span>(<span class="kw">mean</span>)*100,.1) <span class="st">&quot;%&quot;</span></span>
<span id="cb85-10"><a href="loopmacro.html#cb85-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-11"><a href="loopmacro.html#cb85-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-12"><a href="loopmacro.html#cb85-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-13"><a href="loopmacro.html#cb85-13" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb85-14"><a href="loopmacro.html#cb85-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su S01 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb85-15"><a href="loopmacro.html#cb85-15" aria-hidden="true" tabindex="-1"></a>    glo gend<span class="ot">`lvl&#39;</span>: <span class="kw">display</span> <span class="st">&quot;Der Frauenanteil in m1202=&quot;</span> <span class="ot">`lvl&#39;</span> <span class="st">&quot; beträgt: &quot;</span> <span class="fu">round</span>(<span class="fu">r</span>(<span class="kw">mean</span>)*100,.1) <span class="st">&quot;%&quot;</span></span>
<span id="cb85-16"><a href="loopmacro.html#cb85-16" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="recur" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Rekursivität<a href="loopmacro.html#recur" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Macros können auch “recursively” erstellt werden:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb86-1"><a href="loopmacro.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> x <span class="st">&quot;&quot;</span></span>
<span id="cb86-2"><a href="loopmacro.html#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="kw">forvalues</span> i = 1/20 {</span>
<span id="cb86-3"><a href="loopmacro.html#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> x <span class="ot">$x</span> <span class="ot">`i&#39;</span></span>
<span id="cb86-4"><a href="loopmacro.html#cb86-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb86-5"><a href="loopmacro.html#cb86-5" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">list</span> x</span>
<span id="cb86-6"><a href="loopmacro.html#cb86-6" aria-hidden="true" tabindex="-1"></a>x:              1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20</span></code></pre></div>
<p>…somit können wir einen <code>global</code> auch zusammenbauen:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb87-1"><a href="loopmacro.html#cb87-1" aria-hidden="true" tabindex="-1"></a>glo gend <span class="st">&quot;&quot;</span></span>
<span id="cb87-2"><a href="loopmacro.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">global</span> ausb {</span>
<span id="cb87-3"><a href="loopmacro.html#cb87-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su S01 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb87-4"><a href="loopmacro.html#cb87-4" aria-hidden="true" tabindex="-1"></a>    glo gend: <span class="kw">display</span> <span class="st">&quot;${gend}m1202=&quot;</span> <span class="ot">`lvl&#39;</span> <span class="st">&quot; &quot;</span> <span class="fu">round</span>(<span class="fu">r</span>(<span class="kw">mean</span>)*100,.1) <span class="st">&quot;% &quot;</span></span>
<span id="cb87-5"><a href="loopmacro.html#cb87-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb87-6"><a href="loopmacro.html#cb87-6" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">l</span> gend</span></code></pre></div>
<pre><code>  4. }

gend:           m1202=1 45.6% m1202=2 53% m1202=3 37.8% m1202=4 48.9%</code></pre>
<hr />
<p><strong><a href="loopmacro.html#retue1">Übung</a></strong></p>
<hr />
</div>
</div>
<div id="mat1" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Kennzahlen in einer <code>matrix</code> ablegen<a href="loopmacro.html#mat1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Matrizen helfen uns, die ergebnisse in handhabarer Form zu speichern (<code>help matrix</code>).
Um eine Tabelle zu bauen benötigen wir einige Matrix-Befehle, weiteres unter <code>help matrix operators</code></p>
<ul>
<li><p>eine <code>matrix</code> ausgeben:
<code>matrix list matname</code></p></li>
<li><p>eine <code>matrix</code> umbenennen:
<code>matrix umbenennen altername neuername</code></p></li>
<li><p>eine <code>matrix</code> oder alle löschen:
<code>matrix drop [matlist]</code></p></li>
</ul>
<table class="table table-condensed" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Operator
</th>
<th style="text-align:left;">
Symbol
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
column join
</td>
<td style="text-align:left;font-family: monospace;">
,
</td>
</tr>
<tr>
<td style="text-align:left;">
row join
</td>
<td style="text-align:left;font-family: monospace;">
\
</td>
</tr>
<tr>
<td style="text-align:left;">
transpose
</td>
<td style="text-align:left;font-family: monospace;">
’
</td>
</tr>
<tr>
<td style="text-align:left;">
negation
</td>
<td style="text-align:left;font-family: monospace;">
-
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb89"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb89-1"><a href="loopmacro.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span> Y1 = 1, 3 </span>
<span id="cb89-2"><a href="loopmacro.html#cb89-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> Y1</span>
<span id="cb89-3"><a href="loopmacro.html#cb89-3" aria-hidden="true" tabindex="-1"></a>Y1[1,2]</span>
<span id="cb89-4"><a href="loopmacro.html#cb89-4" aria-hidden="true" tabindex="-1"></a>    c1  c2</span>
<span id="cb89-5"><a href="loopmacro.html#cb89-5" aria-hidden="true" tabindex="-1"></a>r1   1   3</span></code></pre></div>
<div class="sourceCode" id="cb90"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb90-1"><a href="loopmacro.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span> Y2 = 4\ 0</span>
<span id="cb90-2"><a href="loopmacro.html#cb90-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> Y2</span>
<span id="cb90-3"><a href="loopmacro.html#cb90-3" aria-hidden="true" tabindex="-1"></a>Y2[2,1]</span>
<span id="cb90-4"><a href="loopmacro.html#cb90-4" aria-hidden="true" tabindex="-1"></a>    c1</span>
<span id="cb90-5"><a href="loopmacro.html#cb90-5" aria-hidden="true" tabindex="-1"></a>r1   4</span>
<span id="cb90-6"><a href="loopmacro.html#cb90-6" aria-hidden="true" tabindex="-1"></a>r2   0</span></code></pre></div>
<div class="sourceCode" id="cb91"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb91-1"><a href="loopmacro.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span> Y = (2, 1.5 \ 2.5, 3)</span>
<span id="cb91-2"><a href="loopmacro.html#cb91-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> Y</span>
<span id="cb91-3"><a href="loopmacro.html#cb91-3" aria-hidden="true" tabindex="-1"></a>Y[2,2]</span>
<span id="cb91-4"><a href="loopmacro.html#cb91-4" aria-hidden="true" tabindex="-1"></a>     c1   c2</span>
<span id="cb91-5"><a href="loopmacro.html#cb91-5" aria-hidden="true" tabindex="-1"></a>r1    2  1.5</span>
<span id="cb91-6"><a href="loopmacro.html#cb91-6" aria-hidden="true" tabindex="-1"></a>r2  2.5    3</span></code></pre></div>
<p>Transponieren:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb92-1"><a href="loopmacro.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span> X2 = (1, 2, 3 \ 5 , 8 , 9)</span>
<span id="cb92-2"><a href="loopmacro.html#cb92-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> X2 </span>
<span id="cb92-3"><a href="loopmacro.html#cb92-3" aria-hidden="true" tabindex="-1"></a>mat X3 = X2&#39;</span>
<span id="cb92-4"><a href="loopmacro.html#cb92-4" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> X3</span>
<span id="cb92-5"><a href="loopmacro.html#cb92-5" aria-hidden="true" tabindex="-1"></a>X2[2,3]</span>
<span id="cb92-6"><a href="loopmacro.html#cb92-6" aria-hidden="true" tabindex="-1"></a>    c1  c2  c3</span>
<span id="cb92-7"><a href="loopmacro.html#cb92-7" aria-hidden="true" tabindex="-1"></a>r1   1   2   3</span>
<span id="cb92-8"><a href="loopmacro.html#cb92-8" aria-hidden="true" tabindex="-1"></a>r2   5   8   9</span>
<span id="cb92-9"><a href="loopmacro.html#cb92-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-10"><a href="loopmacro.html#cb92-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-11"><a href="loopmacro.html#cb92-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-12"><a href="loopmacro.html#cb92-12" aria-hidden="true" tabindex="-1"></a>X3[3,2]</span>
<span id="cb92-13"><a href="loopmacro.html#cb92-13" aria-hidden="true" tabindex="-1"></a>    r1  r2</span>
<span id="cb92-14"><a href="loopmacro.html#cb92-14" aria-hidden="true" tabindex="-1"></a>c1   1   5</span>
<span id="cb92-15"><a href="loopmacro.html#cb92-15" aria-hidden="true" tabindex="-1"></a>c2   2   8</span>
<span id="cb92-16"><a href="loopmacro.html#cb92-16" aria-hidden="true" tabindex="-1"></a>c3   3   9</span></code></pre></div>
<p>Mit <code>J(Zeilen,Spalten,Inhalt)</code> können wir eine Matrix mit gleichen Werten besetzen:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb93-1"><a href="loopmacro.html#cb93-1" aria-hidden="true" tabindex="-1"></a>mat G0 = <span class="fu">J</span>(4,2,0)</span>
<span id="cb93-2"><a href="loopmacro.html#cb93-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> G0</span>
<span id="cb93-3"><a href="loopmacro.html#cb93-3" aria-hidden="true" tabindex="-1"></a>G0[4,2]</span>
<span id="cb93-4"><a href="loopmacro.html#cb93-4" aria-hidden="true" tabindex="-1"></a>    c1  c2</span>
<span id="cb93-5"><a href="loopmacro.html#cb93-5" aria-hidden="true" tabindex="-1"></a>r1   0   0</span>
<span id="cb93-6"><a href="loopmacro.html#cb93-6" aria-hidden="true" tabindex="-1"></a>r2   0   0</span>
<span id="cb93-7"><a href="loopmacro.html#cb93-7" aria-hidden="true" tabindex="-1"></a>r3   0   0</span>
<span id="cb93-8"><a href="loopmacro.html#cb93-8" aria-hidden="true" tabindex="-1"></a>r4   0   0</span></code></pre></div>
<!-- Mit `mat name[Spalte,Zeile]` können wir auf einen Teilbereich zugreifen: -->
<!-- ```{stata matrix04c} -->
<!-- mat G0 = J(4,2,0) -->
<!-- mat G0[3,2] = 2 -->
<!-- mat list G0 -->
<!-- ``` -->
<div id="namen-für-spalten-und-zeilen-einer-matrix" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Namen für Spalten und Zeilen einer <code>matrix</code><a href="loopmacro.html#namen-für-spalten-und-zeilen-einer-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Aber wir können die Zeilennamen einer <code>matrix</code> verändern:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb94-1"><a href="loopmacro.html#cb94-1" aria-hidden="true" tabindex="-1"></a>mat colname G0 = var1 var2</span>
<span id="cb94-2"><a href="loopmacro.html#cb94-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">list</span> G0</span></code></pre></div>
<pre><code>G0[4,2]
    var1  var2
r1     0     0
r2     0     0
r3     0     2
r4     0     0</code></pre>
<p>Wenn zu wenige Namen angegeben werden, wird der letzte Wert einfach wiederholt:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb96-1"><a href="loopmacro.html#cb96-1" aria-hidden="true" tabindex="-1"></a>mat rowname G0 = <span class="fu">year</span> result</span>
<span id="cb96-2"><a href="loopmacro.html#cb96-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">list</span> X1</span></code></pre></div>
<pre><code>G0[4,2]
        c1  c2
  year   0   0
result   0   0
result   0   2
result   0   0</code></pre>
<!-- ### Zeile einfügen -->
<!-- ```{stata tm08, eval = F} -->
<!-- matrix A = J(3,4,.)  -->
<!-- mat A1 = (1, 4, 2, 1)  -->
<!-- ``` -->
<!-- ```{stata tm10, eval = F} -->
<!-- mat A[1,1]  =A1 // !! überschreibt die ganze 1. Zeile -->
<!-- mat li A -->
<!-- ``` -->
<!-- ```{stata tm11, echo = F} -->
<!-- matrix A = J(3,4,.) // A besteht nur aus . -->
<!-- mat A1 = (1, 4, 2, 1) -->
<!-- mat A[1,1]  =A1 // !! überschreibt die ganze 1. Zeile -->
<!-- mat li A -->
<!-- ``` -->
</div>
<div id="mcollect" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> <code>matrix</code> erstellen<a href="loopmacro.html#mcollect" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Das nutzen wir jetzt um unsere Ergebnisse zu speichern:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb98-1"><a href="loopmacro.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> m1202, loc(ausb)</span>
<span id="cb98-2"><a href="loopmacro.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">local</span> ausb {</span>
<span id="cb98-3"><a href="loopmacro.html#cb98-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su S01 <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span></span>
<span id="cb98-4"><a href="loopmacro.html#cb98-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb98-5"><a href="loopmacro.html#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 1. Spalte level von m1202</span></span>
<span id="cb98-6"><a href="loopmacro.html#cb98-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">//2.Spalte: Frauenanteil</span></span>
<span id="cb98-7"><a href="loopmacro.html#cb98-7" aria-hidden="true" tabindex="-1"></a>    mat G<span class="ot">`lvl&#39;</span> = <span class="ot">`lvl&#39;</span> ,<span class="fu">r</span>(<span class="kw">mean</span>)*100 </span>
<span id="cb98-8"><a href="loopmacro.html#cb98-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb98-9"><a href="loopmacro.html#cb98-9" aria-hidden="true" tabindex="-1"></a>mat G = GX1\GX2\GX3\GX4</span>
<span id="cb98-10"><a href="loopmacro.html#cb98-10" aria-hidden="true" tabindex="-1"></a>mat colname G = m1202 share_w</span>
<span id="cb98-11"><a href="loopmacro.html#cb98-11" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> G</span></code></pre></div>
<p>Damit können wir auch zeilenweise eine <code>matrix</code> befüllen, indem wir mit <code>,</code> mehrere Werte verbinden (<a href="loopmacro.html#mat1">row join</a>):</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb99-1"><a href="loopmacro.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">levelsof</span> m1202, loc(ausb)</span>
<span id="cb99-2"><a href="loopmacro.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">local</span> ausb {</span>
<span id="cb99-3"><a href="loopmacro.html#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su zpalter <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span>, <span class="fu">det</span></span>
<span id="cb99-4"><a href="loopmacro.html#cb99-4" aria-hidden="true" tabindex="-1"></a>    mat A<span class="ot">`lvl&#39;</span> = <span class="ot">`lvl&#39;</span>, <span class="fu">r</span>(p25), <span class="fu">r</span>(<span class="kw">mean</span>), <span class="fu">r</span>(p50), <span class="fu">r</span>(p75)</span>
<span id="cb99-5"><a href="loopmacro.html#cb99-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-6"><a href="loopmacro.html#cb99-6" aria-hidden="true" tabindex="-1"></a>mat A = A1\A2\A3\A4</span>
<span id="cb99-7"><a href="loopmacro.html#cb99-7" aria-hidden="true" tabindex="-1"></a>mat colname A = m1202 p25 <span class="kw">mean</span> <span class="kw">median</span> p75</span>
<span id="cb99-8"><a href="loopmacro.html#cb99-8" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> A</span></code></pre></div>
<pre><code>A[4,5]
        m1202        p25       mean     median        p75
r1          1         29  42.627213         46         55
r1          2         39  47.076531         49         56
r1          3         41  48.092344         50         56
r1          4         39  47.760744         49         57</code></pre>
<hr />
<p><strong><a href="loopmacro.html#retue2">Übung</a></strong></p>
<hr />
</div>
</div>
<div id="labels-behalten" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Labels behalten<a href="loopmacro.html#labels-behalten" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="labfun" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> <code>extended macro function</code> für Labels<a href="loopmacro.html#labfun" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Idealerweise würden wir aber gerne nicht nur 1-4 in <code>m1202</code> behalten, sondern die Labels (<code>Ohne Berufsabschluss</code>) usw.
Um Informationen zu Variablen &amp; Labels abzurufen, lernen wir <a href="labmacro.html#labfuns">später</a> eine ganze Reihe an extended macro functions kennen, für den Moment reicht uns <code>label (varname) varvalue</code>:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb101-1"><a href="loopmacro.html#cb101-1" aria-hidden="true" tabindex="-1"></a>loc v m1202</span>
<span id="cb101-2"><a href="loopmacro.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> vallab1 :    <span class="kw">label</span> (<span class="ot">`v&#39;</span>) 1            <span class="co">// Value label für Wert = 1</span></span>
<span id="cb101-3"><a href="loopmacro.html#cb101-3" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;`vallab1&#39;&quot;</span>     <span class="co">// display local &quot;valuelab1&quot;</span></span></code></pre></div>
<pre><code>Ohne Berufsabschluss</code></pre>
<p>In der Schleife können wir dann <code>lvl</code> entsprechen für <code>label (var) lvl</code> nutzen:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb103-1"><a href="loopmacro.html#cb103-1" aria-hidden="true" tabindex="-1"></a>loc lvl = 1</span>
<span id="cb103-2"><a href="loopmacro.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> su zpalter <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span>, <span class="fu">det</span></span>
<span id="cb103-3"><a href="loopmacro.html#cb103-3" aria-hidden="true" tabindex="-1"></a>mat GX = <span class="ot">`lvl&#39;</span>, <span class="fu">r</span>(p25), <span class="fu">r</span>(<span class="kw">mean</span>), <span class="fu">r</span>(p50), <span class="fu">r</span>(p75) </span>
<span id="cb103-4"><a href="loopmacro.html#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> vallab1 :    <span class="kw">label</span> (m1202) <span class="ot">`lvl&#39;</span> <span class="co">// label aufrufen</span></span></code></pre></div>
</div>
<div id="mrown" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Labels als <code>rowname</code><a href="loopmacro.html#mrown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Leider können wir nicht einfach die Labels der Variable in die <code>matrix</code> schreiben.
In einer Matrix sind nur Zahlenwerte erlaubt:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb104-1"><a href="loopmacro.html#cb104-1" aria-hidden="true" tabindex="-1"></a>mat M = c(2\<span class="st">&quot;label&quot;</span>)</span>
<span id="cb104-2"><a href="loopmacro.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">r</span>(133);</span>
<span id="cb104-3"><a href="loopmacro.html#cb104-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-4"><a href="loopmacro.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span> <span class="kw">of</span> <span class="kw">do</span>-file</span>
<span id="cb104-5"><a href="loopmacro.html#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="fu">r</span>(133);</span></code></pre></div>
<p>Aber wir können das Label als rowname ablegen:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb105-1"><a href="loopmacro.html#cb105-1" aria-hidden="true" tabindex="-1"></a>loc lvl = 1</span>
<span id="cb105-2"><a href="loopmacro.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> su zpalter <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span>, <span class="fu">det</span></span>
<span id="cb105-3"><a href="loopmacro.html#cb105-3" aria-hidden="true" tabindex="-1"></a>mat GX = <span class="ot">`lvl&#39;</span>, <span class="fu">r</span>(p25), <span class="fu">r</span>(<span class="kw">mean</span>), <span class="fu">r</span>(p50), <span class="fu">r</span>(p75) </span>
<span id="cb105-4"><a href="loopmacro.html#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> vallab1 :    <span class="kw">label</span> (m1202) <span class="ot">`lvl&#39;</span> <span class="co">// label aufrufen</span></span>
<span id="cb105-5"><a href="loopmacro.html#cb105-5" aria-hidden="true" tabindex="-1"></a>mat rowname GX =  <span class="st">&quot;`vallab1&#39;&quot;</span> <span class="co">// in Zeilenname ablegen</span></span>
<span id="cb105-6"><a href="loopmacro.html#cb105-6" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> GX</span></code></pre></div>
<p>…damit erweitern wir die Schleife von oben:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb106-1"><a href="loopmacro.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> m1202, loc(ausb)</span>
<span id="cb106-2"><a href="loopmacro.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> lvl  <span class="kw">of</span> <span class="kw">local</span> ausb {</span>
<span id="cb106-3"><a href="loopmacro.html#cb106-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> su zpalter <span class="kw">if</span> m1202 == <span class="ot">`lvl&#39;</span>, <span class="fu">det</span></span>
<span id="cb106-4"><a href="loopmacro.html#cb106-4" aria-hidden="true" tabindex="-1"></a>    mat GX<span class="ot">`lvl&#39;</span> = <span class="ot">`lvl&#39;</span>, <span class="fu">r</span>(p25), <span class="fu">r</span>(<span class="kw">mean</span>), <span class="fu">r</span>(p50), <span class="fu">r</span>(p75)</span>
<span id="cb106-5"><a href="loopmacro.html#cb106-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb106-6"><a href="loopmacro.html#cb106-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> vallab1 :    <span class="kw">label</span> (m1202) <span class="ot">`lvl&#39;</span></span>
<span id="cb106-7"><a href="loopmacro.html#cb106-7" aria-hidden="true" tabindex="-1"></a>    mat rowname GX<span class="ot">`lvl&#39;</span> =  <span class="st">&quot;`vallab1&#39;&quot;</span></span>
<span id="cb106-8"><a href="loopmacro.html#cb106-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb106-9"><a href="loopmacro.html#cb106-9" aria-hidden="true" tabindex="-1"></a>mat G = GX1\GX2\GX3\GX4</span>
<span id="cb106-10"><a href="loopmacro.html#cb106-10" aria-hidden="true" tabindex="-1"></a>mat colname G = m1202 p25 <span class="kw">mean</span> <span class="kw">median</span> p75</span>
<span id="cb106-11"><a href="loopmacro.html#cb106-11" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> G</span></code></pre></div>
<pre><code>1 2 3 4





G[4,5]
                  m1202        p25       mean     median        p75
Ohne Beruf~s          1         29  42.627213         46         55
duale o. s~l          2         39  47.076531         49         56
Aufstiegsf~T          3         41  48.092344         50         56
Fachhochsc~h          4         39  47.760744         49         57</code></pre>
</div>
</div>
<div id="von-der-matrix-zum-datensatz" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Von der <code>matrix</code> zum Datensatz<a href="loopmacro.html#von-der-matrix-zum-datensatz" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mit <code>xsvmat</code> bzw. dem ado <code>xsvmat</code> können wir eine <code>matrix</code> in einen Datensatz umwandeln.
Mit <code>rownames(lab)</code> können wir Zeilennamen in die Variable <code>lab</code> ablegen.
Außerdem nutzt <code>xsvmat</code> die neue <a href="loopmacro.html#frame"><code>frame</code></a>- Funktion, um einen neuen Datensatz zu erstellen.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb108-1"><a href="loopmacro.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ssc</span> install  xsvmat</span></code></pre></div>
<div class="sourceCode" id="cb109"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb109-1"><a href="loopmacro.html#cb109-1" aria-hidden="true" tabindex="-1"></a>xsvmat G, names(col) frame(res1) <span class="ot">rownames</span>(lab)</span>
<span id="cb109-2"><a href="loopmacro.html#cb109-2" aria-hidden="true" tabindex="-1"></a>frame change res1</span>
<span id="cb109-3"><a href="loopmacro.html#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span>, <span class="kw">noobs</span> <span class="kw">clean</span></span></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb110-1"><a href="loopmacro.html#cb110-1" aria-hidden="true" tabindex="-1"></a>                                                         lab   m1202   p25       <span class="kw">mean</span>   <span class="kw">median</span>   p75  </span>
<span id="cb110-2"><a href="loopmacro.html#cb110-2" aria-hidden="true" tabindex="-1"></a>                                        Ohne Berufsabschluss       1    29   42.62721       46    55  </span>
<span id="cb110-3"><a href="loopmacro.html#cb110-3" aria-hidden="true" tabindex="-1"></a>    duale o. schulische Berufsausbildung/einf.,mittl. Beamte       2    39   47.07653       49    56  </span>
<span id="cb110-4"><a href="loopmacro.html#cb110-4" aria-hidden="true" tabindex="-1"></a>    Aufstiegsfortbildung (Meister, Techniker, kfm. AFB u.ä.)       3    41   48.09234       50    56  </span>
<span id="cb110-5"><a href="loopmacro.html#cb110-5" aria-hidden="true" tabindex="-1"></a>            Fachhochschule, Universität/ geh., höhere Beamte       4    39   47.76074       49    57  </span></code></pre></div>
</div>
<div id="frame" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> <code>frame</code>: mehrere Datensätze in Stata<a href="loopmacro.html#frame" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Die <code>frame</code>-Option basiert auf einer relativ neuen Funktion in Stata.
Seit Version 16 bietet Stata mit den <a href="https://www.stata.com/features/overview/multiple-datasets-in-memory/"><code>frame</code></a>-Befehlen auch die Möglichkeit, mehrere Datensätze parallel zu bearbeiten.</p>
<ul>
<li>mit <code>frame create nameX</code> können wir einen neuen Datensatz mit dem Namen <code>nameX</code> erstellen (der bisherige wird als <code>default</code> bezeichnet)</li>
<li>mit <code>frame dir</code> bekommen wir eine Übersicht zu den verschiedenen <code>frame</code>s der aktuellen Stata-Session</li>
<li>mit <code>frame change</code> <em>name</em> können wir zwischen den verschiedenen <code>frame</code>s hin- und herspringen</li>
</ul>
<div class="sourceCode" id="cb111"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb111-1"><a href="loopmacro.html#cb111-1" aria-hidden="true" tabindex="-1"></a>frame change res1</span>
<span id="cb111-2"><a href="loopmacro.html#cb111-2" aria-hidden="true" tabindex="-1"></a>frame change <span class="kw">default</span></span></code></pre></div>
<ul>
<li>mit <code>frame drop</code> <em>name</em> können wir einen <code>frame</code> wieder löschen:</li>
</ul>
<div class="sourceCode" id="cb112"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb112-1"><a href="loopmacro.html#cb112-1" aria-hidden="true" tabindex="-1"></a>frame <span class="kw">drop</span> res1</span></code></pre></div>
<hr />
<p><strong><a href="loopmacro.html#retue3">Übung</a></strong></p>
<hr />
</div>
<div id="übungen-1" class="section level2 hasAnchor" number="2.9">
<h2><span class="header-section-number">2.9</span> Übungen<a href="loopmacro.html#übungen-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="loop1" class="section level3 hasAnchor" number="2.9.1">
<h3><span class="header-section-number">2.9.1</span> Übung<a href="loopmacro.html#loop1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Zählen Sie die Wörter in den folgenden beiden String-locals</li>
</ul>
<div class="sourceCode" id="cb113"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb113-1"><a href="loopmacro.html#cb113-1" aria-hidden="true" tabindex="-1"></a>loc x1 <span class="st">&quot;ein sehr langer satz mit vielen wörtern&quot;</span></span>
<span id="cb113-2"><a href="loopmacro.html#cb113-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-3"><a href="loopmacro.html#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ds</span> *wib*</span>
<span id="cb113-4"><a href="loopmacro.html#cb113-4" aria-hidden="true" tabindex="-1"></a>loc <span class="kw">x2</span> =  <span class="fu">r</span>(<span class="kw">varlist</span>)</span></code></pre></div>
<ul>
<li>Wie würde eine Schleife aussehen, die jeweils ein Wort aus den locals nacheinander mit <code>display</code> ausgibt?</li>
</ul>
</div>
<div id="retue1" class="section level3 hasAnchor" number="2.9.2">
<h3><span class="header-section-number">2.9.2</span> Übung<a href="loopmacro.html#retue1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Laden Sie die Erwerbstätigenbefragung - am besten in der Version ohne Missings in den relevanten Variablen ( <code>"${data}/BIBBBAuA_2018_suf1.0_clean.dta"</code>, siehe <code>01_init.do</code>)</li>
<li>Erstellen Sie eine Schleife, welche jeweils das Maximaleinkommen (basierend auf <code>F518_SUF</code>) für die Gemeindegrößenklassen (<code>gkpol</code>) anzeigt.
<ul>
<li>Wie kommen Sie an den Maximalwert für <code>F518_SUF</code>? Verwenden Sie bspw. <code>su</code> oder <code>tabstat</code> zusammen mit <code>return list</code>.</li>
<li>Erstellen Sie mit <code>display</code> eine aussagekräftige Ausgabe</li>
<li>Testen Sie Ihre Schleifenlogik mit einem <code>local</code>, um anschließend die Schleife “außen herumzubauen”</li>
<li>Welche Ausprägungen hat <code>gkpol</code> - wie können Sie diese automatisch in eine Schleife überführen?</li>
</ul></li>
<li><em>Optional</em> Passen Sie Ihre Schleife an, sodass für jeden Durchlauf ein <code>global gkX</code> erstellt wird, wobei <code>X</code> für die Ausprägung von <code>gkpol</code> steht und den entsprechenden Maximalwert von <code>F518_SUF</code> für die entsprechende Größenklasse enthält.</li>
</ul>
</div>
<div id="retue2" class="section level3 hasAnchor" number="2.9.3">
<h3><span class="header-section-number">2.9.3</span> Übung<a href="loopmacro.html#retue2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Kopieren Sie die in Übung 2 erstellte Schleife und passen Sie diese <a href="loopmacro.html#mcollect">so</a> an, dass jeweils die Werte für Min, Mean, Median, Max und N in <code>matrix</code> gesammelt werden.
<ul>
<li>Verwenden Sie den <code>row join</code> für <code>matrix</code> mit <code>,</code> um jeweils eine Ergebniszeile zu erstellen</li>
</ul></li>
</ul>
</div>
<div id="retue3" class="section level3 hasAnchor" number="2.9.4">
<h3><span class="header-section-number">2.9.4</span> Übung<a href="loopmacro.html#retue3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Passen Ihre Schleife von eben mit <code>gkpol</code> so mit Hilfe der Schleife von <a href="loopmacro.html#mrown">oben</a> so an, dass die Labels für <code>gkpol</code> als <code>rownames</code> werden legen Sie die Ergebnismatrix in einen <code>frame</code> ab.
<ul>
<li>Nutzen Sie die <a href="loopmacro.html#labfun"><code>label (v') 1</code></a> extended macro function um das jeweilige Label anzuzeigen</li>
<li>Setzen Sie das entsprechende Label als <code>rowname</code></li>
<li>Fügen Sie die einzelnen Ergebnis in eine <code>matrix</code> zusammen</li>
<li>Nutzen Sie <code>xsvmat</code>, um einen <code>frame</code> zu erstellen</li>
<li>Nutzen Sie <code>frame change</code>, um in die Ergebnis-<code>frame</code> zu wechseln (und wieder zurück)</li>
</ul></li>
</ul>
<!-- *Für alle, die schon fertig sind:* -->
<!-- - Wie könnten Sie mit Hilfe einer Schleife den Schritt des Zusammenfügens mit weniger Tipparbeit erledigen?  -->
<!-- ```{stata, eval = F} -->
<!-- mat G = GX1\GX2\GX3\GX4\GX5\GX6\GX7 -->
<!-- ``` -->
<!--   + Tipp: Überführen Sie die erste Ergebnis-`matrix` in eine neue Ergebnismatrix, an die dann die weiteren `matrix` per `row join` angefügt werden - ggf. hilft hier `if`/`else` -->
<!--   + Ließe sich auch ein Befehl integrieren, der die `matrix` für Einzelergebnisse dann gleich wieder löscht? -->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="macro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regres.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Progammieren mit Stata BIBB.pdf", "Progammieren mit Stata BIBB.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
