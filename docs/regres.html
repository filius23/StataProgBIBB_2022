<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Regressionsergebnisse weiterverarbeiten | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Regressionsergebnisse weiterverarbeiten | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Regressionsergebnisse weiterverarbeiten | Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Andreas Filser" />


<meta name="date" content="2022-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="loopmacro.html"/>
<link rel="next" href="labmacro.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Stata @ BIBB</a></li>

<li class="divider"></li>
<li><a href="index.html#herzlich-willkommen">Herzlich Willkommen<span></span></a></li>
<li class="chapter" data-level="1" data-path="macro.html"><a href="macro.html"><i class="fa fa-check"></i><b>1</b> Macros<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="macro.html"><a href="macro.html#macht-einen-unterschied"><i class="fa fa-check"></i><b>1.1</b> <code>=</code> macht einen Unterschied<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="macro.html"><a href="macro.html#local-und-global-sind-getrennte-welten"><i class="fa fa-check"></i><b>1.2</b> <code>local</code> und <code>global</code> sind getrennte Welten<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="macro.html"><a href="macro.html#macros-mit-text"><i class="fa fa-check"></i><b>1.3</b> Macros mit Text<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="macro.html"><a href="macro.html#dateipfade"><i class="fa fa-check"></i><b>1.4</b> Dateipfade<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="macro.html"><a href="macro.html#cmac"><i class="fa fa-check"></i><b>1.5</b> Bereits definierte Macros<span></span></a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="macro.html"><a href="macro.html#if1"><i class="fa fa-check"></i><b>1.5.1</b> <code>if</code><span></span></a></li>
<li class="chapter" data-level="1.5.2" data-path="macro.html"><a href="macro.html#macros-als-variablennamen-und-befehle"><i class="fa fa-check"></i><b>1.5.2</b> Macros als Variablennamen und Befehle<span></span></a></li>
<li class="chapter" data-level="1.5.3" data-path="macro.html"><a href="macro.html#allglo"><i class="fa fa-check"></i><b>1.5.3</b> <code>globals</code> durchsuchen<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="macro.html"><a href="macro.html#wenn-nicht-if-dann-else"><i class="fa fa-check"></i><b>1.6</b> Wenn nicht <code>if</code>, dann <code>else</code><span></span></a></li>
<li class="chapter" data-level="1.7" data-path="macro.html"><a href="macro.html#schleifen-foreach-forvalues"><i class="fa fa-check"></i><b>1.7</b> Schleifen: <code>foreach</code> &amp; <code>forvalues</code><span></span></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="macro.html"><a href="macro.html#ferest"><i class="fa fa-check"></i><b>1.7.1</b> <code>ferest()</code><span></span></a></li>
<li class="chapter" data-level="1.7.2" data-path="macro.html"><a href="macro.html#weitere-schleifentypen"><i class="fa fa-check"></i><b>1.7.2</b> Weitere Schleifentypen<span></span></a></li>
<li class="chapter" data-level="1.7.3" data-path="macro.html"><a href="macro.html#anwendung"><i class="fa fa-check"></i><b>1.7.3</b> Anwendung<span></span></a></li>
<li class="chapter" data-level="1.7.4" data-path="macro.html"><a href="macro.html#schleifen-aufbauen"><i class="fa fa-check"></i><b>1.7.4</b> Schleifen aufbauen<span></span></a></li>
<li class="chapter" data-level="1.7.5" data-path="macro.html"><a href="macro.html#nested-loop"><i class="fa fa-check"></i><b>1.7.5</b> nested loop<span></span></a></li>
<li class="chapter" data-level="1.7.6" data-path="macro.html"><a href="macro.html#display-vs.-macro-list"><i class="fa fa-check"></i><b>1.7.6</b> <code>display</code> vs. <code>macro list</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="macro.html"><a href="macro.html#übungen"><i class="fa fa-check"></i><b>1.8</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="macro.html"><a href="macro.html#ue0"><i class="fa fa-check"></i><b>1.8.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="macro.html"><a href="macro.html#ue1"><i class="fa fa-check"></i><b>1.8.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="1.8.3" data-path="macro.html"><a href="macro.html#ue2"><i class="fa fa-check"></i><b>1.8.3</b> FizzBuzz-Challenge<span></span></a></li>
<li class="chapter" data-level="1.8.4" data-path="macro.html"><a href="macro.html#ue3"><i class="fa fa-check"></i><b>1.8.4</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="macro.html"><a href="macro.html#anhang"><i class="fa fa-check"></i><b>1.9</b> Anhang<span></span></a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="macro.html"><a href="macro.html#dir"><i class="fa fa-check"></i><b>1.9.1</b> Windows Dateipfade mit macros<span></span></a></li>
<li class="chapter" data-level="1.9.2" data-path="macro.html"><a href="macro.html#debugging-wo-ist-der-wurm-drin"><i class="fa fa-check"></i><b>1.9.2</b> Debugging: Wo ist der Wurm drin?<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="loopmacro.html"><a href="loopmacro.html"><i class="fa fa-check"></i><b>2</b> Schleifen aus Macros<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="loopmacro.html"><a href="loopmacro.html#local-erstellen-und-für-schleifen-verwenden"><i class="fa fa-check"></i><b>2.1</b> local erstellen und für Schleifen verwenden<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="loopmacro.html"><a href="loopmacro.html#schleifen-über-strings"><i class="fa fa-check"></i><b>2.2</b> Schleifen über strings<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="loopmacro.html"><a href="loopmacro.html#wörter-indizieren"><i class="fa fa-check"></i><b>2.2.1</b> Wörter indizieren<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="loopmacro.html"><a href="loopmacro.html#wörter-zählen"><i class="fa fa-check"></i><b>2.2.2</b> Wörter zählen<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="loopmacro.html"><a href="loopmacro.html#wörter-in-schleife"><i class="fa fa-check"></i><b>2.2.3</b> Wörter in Schleife<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="loopmacro.html"><a href="loopmacro.html#informationen-aus-schleifen-behalten"><i class="fa fa-check"></i><b>2.3</b> Informationen aus Schleifen behalten<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="loopmacro.html"><a href="loopmacro.html#gespeichterte-ergebnisse"><i class="fa fa-check"></i><b>2.3.1</b> Gespeichterte Ergebnisse<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="loopmacro.html"><a href="loopmacro.html#e-und-r-sind-getrennte-welten"><i class="fa fa-check"></i><b>2.3.2</b> <code>e()</code> und <code>r()</code> sind getrennte Welten<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="loopmacro.html"><a href="loopmacro.html#ergebnisse-weiter-verwenden"><i class="fa fa-check"></i><b>2.4</b> Ergebnisse weiter verwenden<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="loopmacro.html"><a href="loopmacro.html#recur"><i class="fa fa-check"></i><b>2.4.1</b> Rekursivität<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="loopmacro.html"><a href="loopmacro.html#mat1"><i class="fa fa-check"></i><b>2.5</b> Kennzahlen in einer <code>matrix</code> ablegen<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="loopmacro.html"><a href="loopmacro.html#namen-für-spalten-und-zeilen-einer-matrix"><i class="fa fa-check"></i><b>2.5.1</b> Namen für Spalten und Zeilen einer <code>matrix</code><span></span></a></li>
<li class="chapter" data-level="2.5.2" data-path="loopmacro.html"><a href="loopmacro.html#mcollect"><i class="fa fa-check"></i><b>2.5.2</b> <code>matrix</code> erstellen<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="loopmacro.html"><a href="loopmacro.html#labels-behalten"><i class="fa fa-check"></i><b>2.6</b> Labels behalten<span></span></a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="loopmacro.html"><a href="loopmacro.html#labfun"><i class="fa fa-check"></i><b>2.6.1</b> <code>extended macro function</code> für Labels<span></span></a></li>
<li class="chapter" data-level="2.6.2" data-path="loopmacro.html"><a href="loopmacro.html#mrown"><i class="fa fa-check"></i><b>2.6.2</b> Labels als <code>rowname</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="loopmacro.html"><a href="loopmacro.html#von-der-matrix-zum-datensatz"><i class="fa fa-check"></i><b>2.7</b> Von der <code>matrix</code> zum Datensatz<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="loopmacro.html"><a href="loopmacro.html#frame"><i class="fa fa-check"></i><b>2.8</b> <code>frame</code>: mehrere Datensätze in Stata<span></span></a></li>
<li class="chapter" data-level="2.9" data-path="loopmacro.html"><a href="loopmacro.html#übungen-1"><i class="fa fa-check"></i><b>2.9</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="loopmacro.html"><a href="loopmacro.html#loop1"><i class="fa fa-check"></i><b>2.9.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.2" data-path="loopmacro.html"><a href="loopmacro.html#retue1"><i class="fa fa-check"></i><b>2.9.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.3" data-path="loopmacro.html"><a href="loopmacro.html#retue2"><i class="fa fa-check"></i><b>2.9.3</b> Übung<span></span></a></li>
<li class="chapter" data-level="2.9.4" data-path="loopmacro.html"><a href="loopmacro.html#retue3"><i class="fa fa-check"></i><b>2.9.4</b> Übung<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regres.html"><a href="regres.html"><i class="fa fa-check"></i><b>3</b> Regressionsergebnisse weiterverarbeiten<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="regres.html"><a href="regres.html#e-und-r-der-regressionsergebnisse"><i class="fa fa-check"></i><b>3.1</b> <code>e()</code> und <code>r()</code> der Regressionsergebnisse<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="regres.html"><a href="regres.html#koeffizienten-mit-_b-_se-aufrufen"><i class="fa fa-check"></i><b>3.1.1</b> Koeffizienten mit <code>_b</code> / <code>_se</code> aufrufen<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="regres.html"><a href="regres.html#komplette-regressionstabelle"><i class="fa fa-check"></i><b>3.1.2</b> Komplette Regressionstabelle<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="regres.html"><a href="regres.html#regressionstabellen-als-matrix-speichern-und-anpassen"><i class="fa fa-check"></i><b>3.2</b> Regressionstabellen als <code>matrix</code> speichern und anpassen<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="regres.html"><a href="regres.html#kategoriale-uv"><i class="fa fa-check"></i><b>3.3</b> kategoriale UV<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="regres.html"><a href="regres.html#als-datensatz-ablegen"><i class="fa fa-check"></i><b>3.4</b> Als Datensatz ablegen:<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="regres.html"><a href="regres.html#weitere-infos-aus-e"><i class="fa fa-check"></i><b>3.5</b> weitere Infos aus <code>e()</code><span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="regres.html"><a href="regres.html#esample"><i class="fa fa-check"></i><b>3.5.1</b> <code>e(sample)</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="regres.html"><a href="regres.html#reg-schrittweise-aufbauen"><i class="fa fa-check"></i><b>3.6</b> <code>reg</code> schrittweise aufbauen<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="regres.html"><a href="regres.html#übungen-2"><i class="fa fa-check"></i><b>3.7</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="regres.html"><a href="regres.html#reg1"><i class="fa fa-check"></i><b>3.7.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="3.7.2" data-path="regres.html"><a href="regres.html#reg2"><i class="fa fa-check"></i><b>3.7.2</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="regres.html"><a href="regres.html#anhang-1"><i class="fa fa-check"></i><b>3.8</b> Anhang<span></span></a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="regres.html"><a href="regres.html#statsby"><i class="fa fa-check"></i><b>3.8.1</b> <code>statsby</code><span></span></a></li>
<li class="chapter" data-level="3.8.2" data-path="regres.html"><a href="regres.html#reg-ergebnisse-für-modelle-sammeln-schleife"><i class="fa fa-check"></i><b>3.8.2</b> <code>reg</code>-Ergebnisse für Modelle sammeln: Schleife<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="labmacro.html"><a href="labmacro.html"><i class="fa fa-check"></i><b>4</b> Label- und Variablenfunktionen<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="labmacro.html"><a href="labmacro.html#stringfunktionen"><i class="fa fa-check"></i><b>4.1</b> Stringfunktionen<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="labmacro.html"><a href="labmacro.html#arbeiten-mit-regular-expressions"><i class="fa fa-check"></i><b>4.2</b> Arbeiten mit “Regular Expressions”<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="labmacro.html"><a href="labmacro.html#regex-grund-regeln"><i class="fa fa-check"></i><b>4.2.1</b> regex (Grund-)Regeln<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="labmacro.html"><a href="labmacro.html#beispiele"><i class="fa fa-check"></i><b>4.2.2</b> Beispiele<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="labmacro.html"><a href="labmacro.html#weiterführende-links"><i class="fa fa-check"></i><b>4.2.3</b> Weiterführende Links<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="labmacro.html"><a href="labmacro.html#labfuns"><i class="fa fa-check"></i><b>4.3</b> Label bearbeiten<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="labmacro.html"><a href="labmacro.html#abgleiche"><i class="fa fa-check"></i><b>4.4</b> Abgleiche<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="labmacro.html"><a href="labmacro.html#valsearch"><i class="fa fa-check"></i><b>4.5</b> wo kommt überall -4 vor?<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="labmacro.html"><a href="labmacro.html#übungen-3"><i class="fa fa-check"></i><b>4.6</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="labmacro.html"><a href="labmacro.html#strue"><i class="fa fa-check"></i><b>4.6.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.2" data-path="labmacro.html"><a href="labmacro.html#regexue"><i class="fa fa-check"></i><b>4.6.2</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.3" data-path="labmacro.html"><a href="labmacro.html#varlab"><i class="fa fa-check"></i><b>4.6.3</b> Übung<span></span></a></li>
<li class="chapter" data-level="4.6.4" data-path="labmacro.html"><a href="labmacro.html#valuesearch"><i class="fa fa-check"></i><b>4.6.4</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="labmacro.html"><a href="labmacro.html#anhang-2"><i class="fa fa-check"></i><b>4.7</b> Anhang<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> Dateien- und DoFile-Verwaltung<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#dir---alles-einlesen"><i class="fa fa-check"></i><b>5.1</b> <code>dir</code> - alles einlesen<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data.html"><a href="data.html#copy"><i class="fa fa-check"></i><b>5.1.1</b> <code>copy</code><span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="data.html"><a href="data.html#erase"><i class="fa fa-check"></i><b>5.1.2</b> <code>erase</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#verzeichnisse-dofiles-erstellen"><i class="fa fa-check"></i><b>5.2</b> Verzeichnisse &amp; DoFiles erstellen<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#master-dofile"><i class="fa fa-check"></i><b>5.3</b> Master DoFile<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data.html"><a href="data.html#dofile-mit-argumenten-starten"><i class="fa fa-check"></i><b>5.3.1</b> DoFile mit Argumenten starten<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="data.html"><a href="data.html#in-neuer-session-starten"><i class="fa fa-check"></i><b>5.3.2</b> in neuer Session starten<span></span></a></li>
<li class="chapter" data-level="5.3.3" data-path="data.html"><a href="data.html#mehrere-sessions-starten"><i class="fa fa-check"></i><b>5.3.3</b> mehrere Sessions starten<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#übungen-4"><i class="fa fa-check"></i><b>5.4</b> Übungen<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data.html"><a href="data.html#dir_readin"><i class="fa fa-check"></i><b>5.4.1</b> Übung<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="data.html"><a href="data.html#masterdofile"><i class="fa fa-check"></i><b>5.4.2</b> Übung<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data.html"><a href="data.html#anhang-3"><i class="fa fa-check"></i><b>5.5</b> Anhang<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="misc.html"><a href="misc.html"><i class="fa fa-check"></i><b>6</b> Weitere <code>macro</code> &amp; <code>matrix</code> Funktionen<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="misc.html"><a href="misc.html#capture"><i class="fa fa-check"></i><b>6.1</b> <code>capture</code><span></span></a></li>
<li class="chapter" data-level="6.2" data-path="misc.html"><a href="misc.html#macro-extended-functions-for-parsing"><i class="fa fa-check"></i><b>6.2</b> Macro extended functions for parsing<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="misc.html"><a href="misc.html#weitere-matrix-befehle"><i class="fa fa-check"></i><b>6.3</b> weitere <code>matrix</code>-Befehle<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="misc.html"><a href="misc.html#teilmatrizen"><i class="fa fa-check"></i><b>6.3.1</b> Teilmatrizen<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="misc.html"><a href="misc.html#spaltenzeilen-auswählen"><i class="fa fa-check"></i><b>6.3.2</b> Spalten/Zeilen auswählen<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="misc.html"><a href="misc.html#crnumb"><i class="fa fa-check"></i><b>6.3.3</b> Namensbasierte Auswahl<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lit.html"><a href="lit.html"><i class="fa fa-check"></i><b>7</b> Literatur &amp; Links<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stata für Fortgeschrittene: Programmieren mit Postestimates, Macros und Schleifen in Stata</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="regres" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Regressionsergebnisse weiterverarbeiten<a href="regres.html#regres" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="e-und-r-der-regressionsergebnisse" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> <code>e()</code> und <code>r()</code> der Regressionsergebnisse<a href="regres.html#e-und-r-der-regressionsergebnisse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Die Koeffizienten und Standardfehler des letzten Modells werden in <code>e()</code> gespeichert:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb114-1"><a href="regres.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> F518_SUF F200</span></code></pre></div>
<pre><code>      Source |       SS           df       MS      Number of obs   =    14,659
-------------+----------------------------------   F(1, 14657)     =   1370.76
       Model |  1.3122e+10         1  1.3122e+10   Prob &gt; F        =    0.0000
    Residual |  1.4031e+11    14,657  9572601.57   R-squared       =    0.0855
-------------+----------------------------------   Adj R-squared   =    0.0855
       Total |  1.5343e+11    14,658  10467142.3   Root MSE        =      3094

------------------------------------------------------------------------------
    F518_SUF |      Coef.   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        F200 |   109.4473   2.956134    37.02   0.000     103.6529    115.2417
       _cons |  -344.1221   104.2802    -3.30   0.001    -548.5245   -139.7197
------------------------------------------------------------------------------</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb116-1"><a href="regres.html#cb116-1" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> <span class="fu">e</span>(b)</span></code></pre></div>
<pre><code>e(b)[1,2]
          F200       _cons
y1   109.44727  -344.12212</code></pre>
<div id="koeffizienten-mit-_b-_se-aufrufen" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Koeffizienten mit <code>_b</code> / <code>_se</code> aufrufen<a href="regres.html#koeffizienten-mit-_b-_se-aufrufen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Allerdings gibt es noch eine Abkürzung mit <code>_b[varname]</code> bzw. <code>_se[varname]</code>:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb118-1"><a href="regres.html#cb118-1" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;Der Koeffizient für F200 ist &quot;</span> _b[F200]</span>
<span id="cb118-2"><a href="regres.html#cb118-2" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;Der Standardfehler des Koeffizienten für F200 ist &quot;</span> _se[F200]</span></code></pre></div>
<pre><code>Der Koeffizient für F200 ist 109.44727

Der Standardfehler des Koeffizienten für F200 ist 2.9561335</code></pre>
<p>Wir können so auch vorhergesagte Werte berechnen - entweder für spezifische Werte:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb120-1"><a href="regres.html#cb120-1" aria-hidden="true" tabindex="-1"></a>dis _b[<span class="dt">_cons</span>] + 20 *_b[F200]</span>
<span id="cb120-2"><a href="regres.html#cb120-2" aria-hidden="true" tabindex="-1"></a>margins, <span class="fu">at</span>(F200 = 20)</span></code></pre></div>
<pre><code>1844.8234


Adjusted predictions                            Number of obs     =     14,659
Model VCE    : OLS

Expression   : Linear prediction, predict()

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      t    P&gt;|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       _cons |   1844.823   49.14441    37.54   0.000     1748.494    1941.153
------------------------------------------------------------------------------</code></pre>
<p>…oder für alle Beobachtungen:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb122-1"><a href="regres.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> pred_manual = _b[<span class="dt">_cons</span>] + F200 *_b[F200]</span>
<span id="cb122-2"><a href="regres.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="kw">predict</span> pred_auto, <span class="kw">xb</span></span>
<span id="cb122-3"><a href="regres.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> <span class="fu">diff</span>=  pred_manual - pred_auto</span>
<span id="cb122-4"><a href="regres.html#cb122-4" aria-hidden="true" tabindex="-1"></a>su <span class="fu">diff</span></span></code></pre></div>
<pre><code>    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        diff |     17,376           0           0          0          0</code></pre>
</div>
<div id="komplette-regressionstabelle" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Komplette Regressionstabelle<a href="regres.html#komplette-regressionstabelle" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Die vollständige Regressionstabelle ist aber eine r-Class matrix:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb124-1"><a href="regres.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> F518_SUF F200</span>
<span id="cb124-2"><a href="regres.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="kw">matlist</span> <span class="fu">r</span>(<span class="kw">table</span>) </span></code></pre></div>
<pre><code>r(table)[9,2]
              F200       _cons
     b   109.44727  -344.12212
    se   2.9561335   104.28024
     t   37.023793  -3.2999743
pvalue   6.36e-287   .00096924
    ll   103.65288  -548.52452
    ul   115.24167  -139.71973
    df       14657       14657
  crit   1.9601259   1.9601259
 eform           0           0</code></pre>
</div>
</div>
<div id="regressionstabellen-als-matrix-speichern-und-anpassen" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Regressionstabellen als <code>matrix</code> speichern und anpassen<a href="regres.html#regressionstabellen-als-matrix-speichern-und-anpassen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mit <code>'</code> können wir die Regressionstabelle transponieren:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb126-1"><a href="regres.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> F518_SUF F200</span>
<span id="cb126-2"><a href="regres.html#cb126-2" aria-hidden="true" tabindex="-1"></a>mat C = <span class="fu">r</span>(<span class="kw">table</span>)&#39;</span>
<span id="cb126-3"><a href="regres.html#cb126-3" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> C</span></code></pre></div>
<pre><code>C[2,9]
                b          se           t      pvalue          ll          ul
 F200   109.44727   2.9561335   37.023793   6.36e-287   103.65288   115.24167
_cons  -344.12212   104.28024  -3.2999743   .00096924  -548.52452  -139.71973

               df        crit       eform
 F200       14657   1.9601259           0
_cons       14657   1.9601259           0</code></pre>
<p><a href="misc.html#crnumb">rownumb</a> hilft, einen Koeffizienten zu suchen:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb128-1"><a href="regres.html#cb128-1" aria-hidden="true" tabindex="-1"></a>mat C1 = C[<span class="fu">rownumb</span>(C,<span class="st">&quot;F200&quot;</span>),1...]</span>
<span id="cb128-2"><a href="regres.html#cb128-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> C1</span></code></pre></div>
<pre><code>C1[1,9]
              b         se          t     pvalue         ll         ul
F200  109.44727  2.9561335  37.023793  6.36e-287  103.65288  115.24167

             df       crit      eform
F200      14657  1.9601259          0</code></pre>
</div>
<div id="kategoriale-uv" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> kategoriale UV<a href="regres.html#kategoriale-uv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Der Koeffizientenname ist etwas komplizierterer Name bei kat. UVs:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb130-1"><a href="regres.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> F518_SUF i.S1 F200</span>
<span id="cb130-2"><a href="regres.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ereturn</span> <span class="ot">list</span></span>
<span id="cb130-3"><a href="regres.html#cb130-3" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> <span class="fu">r</span>(<span class="kw">table</span>) </span>
<span id="cb130-4"><a href="regres.html#cb130-4" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;Der Koeffizient für S1 = weiblich ist &quot;</span> _b[2.S1]</span></code></pre></div>
<pre><code>r(table)[9,4]
                1b.          2.                        
                S1          S1        F200       _cons
     b           0  -628.91281    95.08006   464.42184
    se           .   55.392637   3.2038116   125.90363
     t           .  -11.353726    29.67717    3.688709
pvalue           .   9.461e-30   5.23e-188   .00022621
    ll           .  -737.48935   88.800186   217.63489
    ul           .  -520.33627   101.35993    711.2088
    df       14656       14656       14656       14656
  crit   1.9601259   1.9601259   1.9601259   1.9601259
 eform           0           0           0           0

Der Koeffizient für S1 = weiblich ist -628.91281</code></pre>
<p>Dies müssen wir auch bei der Suche nach einem Koeffizienten berücksichtigen:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb132-1"><a href="regres.html#cb132-1" aria-hidden="true" tabindex="-1"></a>mat D = <span class="fu">r</span>(<span class="kw">table</span>)&#39; <span class="co">// transponieren:</span></span>
<span id="cb132-2"><a href="regres.html#cb132-2" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> D</span></code></pre></div>
<div class="sourceCode" id="cb133"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb133-1"><a href="regres.html#cb133-1" aria-hidden="true" tabindex="-1"></a>                b          se           t      pvalue          ll          ul          df        crit       <span class="kw">eform</span></span>
<span id="cb133-2"><a href="regres.html#cb133-2" aria-hidden="true" tabindex="-1"></a>1b.S1           0           .           .           .           .           .       14656   1.9601259           0</span>
<span id="cb133-3"><a href="regres.html#cb133-3" aria-hidden="true" tabindex="-1"></a> 2.S1  -628.91281   55.392637  -11.353726   9.461e-30  -737.48935  -520.33627       14656   1.9601259           0</span>
<span id="cb133-4"><a href="regres.html#cb133-4" aria-hidden="true" tabindex="-1"></a> F200    95.08006   3.2038116    29.67717   5.23e-188   88.800186   101.35993       14656   1.9601259           0</span>
<span id="cb133-5"><a href="regres.html#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="dt">_cons</span>   464.42184   125.90363    3.688709   .00022621   217.63489    711.2088       14656   1.9601259           0</span></code></pre></div>
</div>
<div id="als-datensatz-ablegen" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Als Datensatz ablegen:<a href="regres.html#als-datensatz-ablegen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Auch hier können wir dann mit <code>xsvmat</code> die Matrix in einen Datensatz umformatieren:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb134-1"><a href="regres.html#cb134-1" aria-hidden="true" tabindex="-1"></a>cap frame <span class="kw">drop</span> regres1</span>
<span id="cb134-2"><a href="regres.html#cb134-2" aria-hidden="true" tabindex="-1"></a>xsvmat D,  names(col) <span class="ot">rownames</span>(coef) frame(regres1)</span>
<span id="cb134-3"><a href="regres.html#cb134-3" aria-hidden="true" tabindex="-1"></a>frame change regres1</span>
<span id="cb134-4"><a href="regres.html#cb134-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-5"><a href="regres.html#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span>, <span class="kw">noobs</span> <span class="kw">clean</span></span></code></pre></div>
<div class="sourceCode" id="cb135"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb135-1"><a href="regres.html#cb135-1" aria-hidden="true" tabindex="-1"></a> coef           b         se           t     pvalue          ll          ul      df       crit   <span class="kw">eform</span>  </span>
<span id="cb135-2"><a href="regres.html#cb135-2" aria-hidden="true" tabindex="-1"></a>1b.S1           0          .           .          .           .           .   14656   1.960126       0  </span>
<span id="cb135-3"><a href="regres.html#cb135-3" aria-hidden="true" tabindex="-1"></a> 2.S1   -628.9128   55.39264   -11.35373   9.46e-30   -737.4893   -520.3362   14656   1.960126       0  </span>
<span id="cb135-4"><a href="regres.html#cb135-4" aria-hidden="true" tabindex="-1"></a> F200    95.08006   3.203812    29.67717          0    88.80019    101.3599   14656   1.960126       0  </span>
<span id="cb135-5"><a href="regres.html#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="dt">_cons</span>    464.4218   125.9036    3.688709   .0002262    217.6349    711.2088   14656   1.960126       0  </span></code></pre></div>
</div>
<div id="weitere-infos-aus-e" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> weitere Infos aus <code>e()</code><a href="regres.html#weitere-infos-aus-e" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In <code>ereturn list</code> oben sehen wir, dass <code>e(cmdline)</code> den <code>reg</code>-Befehl enthält:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb136-1"><a href="regres.html#cb136-1" aria-hidden="true" tabindex="-1"></a> <span class="kw">reg</span> F518_SUF i.S1 F200</span>
<span id="cb136-2"><a href="regres.html#cb136-2" aria-hidden="true" tabindex="-1"></a>dis <span class="st">&quot;`e(cmdline)&#39;&quot;</span></span></code></pre></div>
<pre><code>regress F518_SUF i.S1 F200</code></pre>
<p>Diese Information können wir mit in den Ergebnis-<code>frame</code> nehmen. <code>global</code>s bleiben nehmen in der Session erhalten, auch wenn wir zwischen <code>frame</code>s wechseln:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb138-1"><a href="regres.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> mo = <span class="st">&quot;`e(cmdline)&#39;&quot;</span></span>
<span id="cb138-2"><a href="regres.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span>, <span class="kw">noobs</span> <span class="kw">clean</span></span></code></pre></div>
<div class="sourceCode" id="cb139"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb139-1"><a href="regres.html#cb139-1" aria-hidden="true" tabindex="-1"></a> coef           b         se           t     pvalue          ll          ul      df       crit   <span class="kw">eform</span>                           mo  </span>
<span id="cb139-2"><a href="regres.html#cb139-2" aria-hidden="true" tabindex="-1"></a>1b.S1           0          .           .          .           .           .   14656   1.960126       0   <span class="kw">regress</span> F518_SUF i.S1 F200  </span>
<span id="cb139-3"><a href="regres.html#cb139-3" aria-hidden="true" tabindex="-1"></a> 2.S1   -628.9128   55.39264   -11.35373   9.46e-30   -737.4893   -520.3362   14656   1.960126       0   <span class="kw">regress</span> F518_SUF i.S1 F200  </span>
<span id="cb139-4"><a href="regres.html#cb139-4" aria-hidden="true" tabindex="-1"></a> F200    95.08006   3.203812    29.67717          0    88.80019    101.3599   14656   1.960126       0   <span class="kw">regress</span> F518_SUF i.S1 F200  </span>
<span id="cb139-5"><a href="regres.html#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="dt">_cons</span>    464.4218   125.9036    3.688709   .0002262    217.6349    711.2088   14656   1.960126       0   <span class="kw">regress</span> F518_SUF i.S1 F200  </span></code></pre></div>
<p>Diese Beschreibung ist natürlich alles andere als ideal. Im nächsten Kapitel werden wir einige Möglichkeiten kennenlernen, da etwas zu ändern.</p>
<hr />
<p><strong><a href="regres.html#reg1">Übung</a></strong></p>
<hr />
<div id="esample" class="section level3 hasAnchor" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> <code>e(sample)</code><a href="regres.html#esample" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>e(sample)</code> ist eine <code>e()</code>-Class Funktion, welche die in einem Modell berücksichtigten Fälle zu markieren:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb140-1"><a href="regres.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="kw">quietly</span> <span class="kw">reg</span> F518_SUF i.S1 F200</span>
<span id="cb140-2"><a href="regres.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> smpl = <span class="fu">e</span>(<span class="kw">sample</span>)</span>
<span id="cb140-3"><a href="regres.html#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="kw">tab</span> sampl</span></code></pre></div>
<pre><code>       smpl |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      5,353       26.75       26.75
          1 |     14,659       73.25      100.00
------------+-----------------------------------
      Total |     20,012      100.00</code></pre>
<p>So können wir bspw. sehen, wo die Missings liegen:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb142-1"><a href="regres.html#cb142-1" aria-hidden="true" tabindex="-1"></a>mdesc  F518_SUF S1 F200 <span class="kw">if</span> smpl == 0</span></code></pre></div>
<div class="sourceCode" id="cb143"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb143-1"><a href="regres.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="kw">quietly</span>{</span>
<span id="cb143-2"><a href="regres.html#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">use</span> <span class="st">&quot;./data/BIBBBAuA_2018_suf1.0_clean.dta&quot;</span>, <span class="kw">replace</span> </span>
<span id="cb143-3"><a href="regres.html#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">reg</span> F518_SUF i.S1 F200</span>
<span id="cb143-4"><a href="regres.html#cb143-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">gen</span> smpl = <span class="fu">e</span>(<span class="kw">sample</span>)</span>
<span id="cb143-5"><a href="regres.html#cb143-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb143-6"><a href="regres.html#cb143-6" aria-hidden="true" tabindex="-1"></a>mdesc  F518_SUF S1 F200 <span class="kw">if</span> smpl == 0</span>
<span id="cb143-7"><a href="regres.html#cb143-7" aria-hidden="true" tabindex="-1"></a>    Variable    |     Missing          Total     Percent Missing</span>
<span id="cb143-8"><a href="regres.html#cb143-8" aria-hidden="true" tabindex="-1"></a>----------------+-----------------------------------------------</span>
<span id="cb143-9"><a href="regres.html#cb143-9" aria-hidden="true" tabindex="-1"></a>       F518_SUF |       3,377          5,353          63.09</span>
<span id="cb143-10"><a href="regres.html#cb143-10" aria-hidden="true" tabindex="-1"></a>             S1 |           0          5,353           0.00</span>
<span id="cb143-11"><a href="regres.html#cb143-11" aria-hidden="true" tabindex="-1"></a>           F200 |       2,636          5,353          49.24</span>
<span id="cb143-12"><a href="regres.html#cb143-12" aria-hidden="true" tabindex="-1"></a>----------------+-----------------------------------------------</span></code></pre></div>
</div>
</div>
<div id="reg-schrittweise-aufbauen" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> <code>reg</code> schrittweise aufbauen<a href="regres.html#reg-schrittweise-aufbauen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb144"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb144-1"><a href="regres.html#cb144-1" aria-hidden="true" tabindex="-1"></a>glo mod1 i.S1 az i.m1202 zpalter i.Mig</span>
<span id="cb144-2"><a href="regres.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="kw">qui</span> <span class="kw">regress</span> F518_SUF <span class="ot">${mod1}</span></span>
<span id="cb144-3"><a href="regres.html#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="kw">gen</span> smpl2 = <span class="fu">e</span>(<span class="kw">sample</span>)</span>
<span id="cb144-4"><a href="regres.html#cb144-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-5"><a href="regres.html#cb144-5" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> len2: <span class="fu">word</span> <span class="fu">count</span> <span class="ot">${mod1}</span></span>
<span id="cb144-6"><a href="regres.html#cb144-6" aria-hidden="true" tabindex="-1"></a><span class="kw">forvalues</span> i = 1(1)<span class="ot">`len2&#39;</span> {</span>
<span id="cb144-7"><a href="regres.html#cb144-7" aria-hidden="true" tabindex="-1"></a>    loc <span class="fu">word</span>: <span class="fu">word</span> <span class="ot">`i&#39;</span> <span class="kw">of</span> <span class="ot">${mod1}</span></span>
<span id="cb144-8"><a href="regres.html#cb144-8" aria-hidden="true" tabindex="-1"></a>    dis <span class="st">&quot;Modell Nr&quot;</span> <span class="ot">`i&#39;</span> <span class="st">&quot;: mit `word&#39;&quot;</span></span>
<span id="cb144-9"><a href="regres.html#cb144-9" aria-hidden="true" tabindex="-1"></a>    loc x <span class="ot">`x&#39;</span> <span class="ot">`word&#39;</span></span>
<span id="cb144-10"><a href="regres.html#cb144-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> <span class="kw">reg</span> F518_SUF <span class="ot">`x&#39;</span> <span class="kw">if</span> smpl2 == 1</span>
<span id="cb144-11"><a href="regres.html#cb144-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">est</span> <span class="kw">store</span> m<span class="ot">`i&#39;</span></span>
<span id="cb144-12"><a href="regres.html#cb144-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb144-13"><a href="regres.html#cb144-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-14"><a href="regres.html#cb144-14" aria-hidden="true" tabindex="-1"></a><span class="kw">est</span> <span class="ot">dir</span></span>
<span id="cb144-15"><a href="regres.html#cb144-15" aria-hidden="true" tabindex="-1"></a>esttab <span class="fu">m</span>*, b se  <span class="co">// ssc install esttab</span></span></code></pre></div>
<pre><code>Modell Nr1: mit i.S1
Modell Nr2: mit az
Modell Nr3: mit i.m1202
Modell Nr4: mit zpalter
Modell Nr5: mit i.Mig


----------------------------------------------------------------
        name | command      depvar       npar  title 
-------------+--------------------------------------------------
          m1 | regress      F518_SUF        3  Linear regression
          m2 | regress      F518_SUF        4  Linear regression
          m3 | regress      F518_SUF        8  Linear regression
          m4 | regress      F518_SUF        9  Linear regression
          m5 | regress      F518_SUF       12  Linear regression
----------------------------------------------------------------


--------------------------------------------------------------------------------------------
                      (1)             (2)             (3)             (4)             (5)   
                 F518_SUF        F518_SUF        F518_SUF        F518_SUF        F518_SUF   
--------------------------------------------------------------------------------------------
1.S1                    0               0               0               0               0   
                      (.)             (.)             (.)             (.)             (.)   

2.S1              -1434.1***       -683.3***       -725.7***       -755.7***       -756.4***
                  (53.94)         (55.19)         (53.65)         (53.50)         (53.51)   

az                                  91.74***        83.46***        84.05***        83.99***
                                  (2.376)         (2.323)         (2.315)         (2.316)   

1.m1202                                                 0               0               0   
                                                      (.)             (.)             (.)   

2.m1202                                             384.1***        261.9*          250.9*  
                                                  (114.5)         (114.6)         (115.2)   

3.m1202                                             898.1***        737.2***        724.5***
                                                  (137.7)         (137.9)         (138.5)   

4.m1202                                            2074.7***       1933.3***       1924.7***
                                                  (116.0)         (116.2)         (116.7)   

zpalter                                                             25.41***        25.27***
                                                                  (2.200)         (2.210)   

0.Mig                                                                                   0   
                                                                                      (.)   

1.Mig                                                                               10.65   
                                                                                  (93.55)   

2.Mig                                                                              -175.8   
                                                                                  (146.9)   

_cons              4236.3***        359.5***       -376.7**       -1447.4***      -1423.9***
                  (37.72)         (106.7)         (141.0)         (168.3)         (171.2)   
--------------------------------------------------------------------------------------------
N                   16518           16518           16518           16518           16518   
--------------------------------------------------------------------------------------------
Standard errors in parentheses
* p&lt;0.05, ** p&lt;0.01, *** p&lt;0.001</code></pre>
<hr />
<p><strong><a href="regres.html#reg2">Übung</a></strong></p>
<hr />
</div>
<div id="übungen-2" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Übungen<a href="regres.html#übungen-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="reg1" class="section level3 hasAnchor" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Übung<a href="regres.html#reg1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Erstellen Sie folgendes Regressionsmodell:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb146-1"><a href="regres.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> az i.mig01 zpalter</span></code></pre></div>
<p>(In <code>mig01</code> steht dann 0 für keinen Migrationshintergrund und 1 für Migrationshintergrund - siehe auch <code>01_init.do</code>)</p>
<ul>
<li>Erstellen Sie jeweils einen <code>display</code>-Befehl, der den Koeffizienten und Standardfehler für <code>mig01</code> und <code>zpalter</code> mit einer Aussagekräftigen Nachricht ausgibt</li>
<li>Wie würde das als Schleife über die Koeffizienten aussehen?</li>
<li>Extrahieren Sie die Regressionstabelle als <code>matrix</code> und legen sie diese als <code>frame</code> ab.</li>
<li>Erstellen Sie zusätzlich eine Spalte mit dem Regressionsbefehl.</li>
</ul>
</div>
<div id="reg2" class="section level3 hasAnchor" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Übung<a href="regres.html#reg2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Bauen Sie folgendes Modell Schritt für Schritt auf und lassen Sie sich die Tabelle mit <code>esttab</code> ausgeben:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb147-1"><a href="regres.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="kw">reg</span> az i.S1 zpalter c.zpalter#c.zpalter i.gkpol i.F1604 i.F1604##i.S1</span></code></pre></div>
</div>
</div>
<div id="anhang-1" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> Anhang<a href="regres.html#anhang-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="statsby" class="section level3 hasAnchor" number="3.8.1">
<h3><span class="header-section-number">3.8.1</span> <code>statsby</code><a href="regres.html#statsby" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb148"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb148-1"><a href="regres.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="kw">statsby</span> _b _se, <span class="kw">by</span>(Bula) <span class="kw">noisily</span>: <span class="co">///</span></span>
<span id="cb148-2"><a href="regres.html#cb148-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">regress</span> F518_SUF c.F200##c.F200 i.m1202 i.S1</span></code></pre></div>
</div>
<div id="reg-ergebnisse-für-modelle-sammeln-schleife" class="section level3 hasAnchor" number="3.8.2">
<h3><span class="header-section-number">3.8.2</span> <code>reg</code>-Ergebnisse für Modelle sammeln: Schleife<a href="regres.html#reg-ergebnisse-für-modelle-sammeln-schleife" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wir können mit den <code>matrix</code>-Befehlen auch eine Schleife bauen, welche eine Reihe an Regressionsmodellen schätzt und bei jedem Durchlauf einen zusätzlichen Term hinzunimmt.
Wir interessieren uns aber nur, dafür wie sich der Koeffizient für das Geschlecht (S1 == 2) entwickelt mit jedem neuen Modell.
Mit den <code>matrix</code>-Befehlen können wir dieser herausfiltern.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb149-1"><a href="regres.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> predictors i.S1 c.F200 c.F200#c.F200 i.m1202 zpalter c.zpalter#c.zpalter <span class="co">// UV-Liste</span></span>
<span id="cb149-2"><a href="regres.html#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="fu">r</span> = 1 <span class="co">// Zähler </span></span>
<span id="cb149-3"><a href="regres.html#cb149-3" aria-hidden="true" tabindex="-1"></a>loc uv      <span class="co">// uv rücksetzen (zur sicherheit)</span></span>
<span id="cb149-4"><a href="regres.html#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> v <span class="kw">of</span> <span class="kw">local</span> predictors {</span>
<span id="cb149-5"><a href="regres.html#cb149-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> uv <span class="ot">`uv&#39;</span> <span class="ot">`v&#39;</span></span>
<span id="cb149-6"><a href="regres.html#cb149-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> <span class="kw">regress</span> F518_SUF <span class="ot">`uv&#39;</span></span>
<span id="cb149-7"><a href="regres.html#cb149-7" aria-hidden="true" tabindex="-1"></a>    mat D = <span class="fu">r</span>(<span class="kw">table</span>)&#39;                       <span class="co">// reg-tabelle transponieren &amp; speichern </span></span>
<span id="cb149-8"><a href="regres.html#cb149-8" aria-hidden="true" tabindex="-1"></a>    mat D2 = D[<span class="fu">rownumb</span>(D,<span class="st">&quot;2.S1&quot;</span>),1...]      <span class="co">// Koeffizient für S1=2 behalten</span></span>
<span id="cb149-9"><a href="regres.html#cb149-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb149-10"><a href="regres.html#cb149-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (<span class="ot">`r&#39;</span> == 1) mat R = D2                <span class="co">// im ersten Durchlauf R erstellen</span></span>
<span id="cb149-11"><a href="regres.html#cb149-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (<span class="ot">`r&#39;</span> != 1) mat R = R\D2              <span class="co">// danach: D2 an R anfügen</span></span>
<span id="cb149-12"><a href="regres.html#cb149-12" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb149-13"><a href="regres.html#cb149-13" aria-hidden="true" tabindex="-1"></a>    loc ++<span class="fu">r</span> <span class="co">// Zähler + 1</span></span>
<span id="cb149-14"><a href="regres.html#cb149-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb149-15"><a href="regres.html#cb149-15" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> R</span></code></pre></div>
<div class="sourceCode" id="cb150"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb150-1"><a href="regres.html#cb150-1" aria-hidden="true" tabindex="-1"></a>R[6,9]</span>
<span id="cb150-2"><a href="regres.html#cb150-2" aria-hidden="true" tabindex="-1"></a>               b          se           t      pvalue          ll          ul          df        crit       <span class="kw">eform</span></span>
<span id="cb150-3"><a href="regres.html#cb150-3" aria-hidden="true" tabindex="-1"></a>2.S1  -1431.8093   53.630001  -26.697917   8.52e-154  -1536.9298  -1326.6888       16633   1.9601066           0</span>
<span id="cb150-4"><a href="regres.html#cb150-4" aria-hidden="true" tabindex="-1"></a>2.S1  -628.91281   55.392637  -11.353726   9.461e-30  -737.48935  -520.33627       14656   1.9601259           0</span>
<span id="cb150-5"><a href="regres.html#cb150-5" aria-hidden="true" tabindex="-1"></a>2.S1   -661.6656   55.679749  -11.883416   2.034e-32  -770.80492  -552.52628       14655   1.9601259           0</span>
<span id="cb150-6"><a href="regres.html#cb150-6" aria-hidden="true" tabindex="-1"></a>2.S1  -664.94219   53.793012  -12.361126   6.336e-35  -770.38328  -559.50111       14633   1.9601261           0</span>
<span id="cb150-7"><a href="regres.html#cb150-7" aria-hidden="true" tabindex="-1"></a>2.S1  -700.71303   54.028438  -12.969337   2.975e-38  -806.61563  -594.81043       14552    1.960127           0</span>
<span id="cb150-8"><a href="regres.html#cb150-8" aria-hidden="true" tabindex="-1"></a>2.S1  -717.33567   54.061055  -13.268991   5.977e-40  -823.30221  -611.36914       14551    1.960127           0</span></code></pre></div>
<p>Wie wissen wir jetzt, für was kontrolliert wurde?</p>
<p>Wir nutzen den Zähler, um ein <code>global</code> mit der Zählernummer zu erstellen und eine Zeile in die <code>matrix</code> einzufügen:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb151-1"><a href="regres.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> predictors i.S1 c.F200 c.F200#c.F200 i.m1202 zpalter c.zpalter#c.zpalter</span>
<span id="cb151-2"><a href="regres.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="fu">r</span> = 1 <span class="co">// Zähler </span></span>
<span id="cb151-3"><a href="regres.html#cb151-3" aria-hidden="true" tabindex="-1"></a>loc uv      <span class="co">// uv rücksetzen (zur sicherheit)</span></span>
<span id="cb151-4"><a href="regres.html#cb151-4" aria-hidden="true" tabindex="-1"></a><span class="kw">foreach</span> v <span class="kw">of</span> <span class="kw">local</span> predictors {</span>
<span id="cb151-5"><a href="regres.html#cb151-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> uv <span class="ot">`uv&#39;</span> <span class="ot">`v&#39;</span></span>
<span id="cb151-6"><a href="regres.html#cb151-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">qui</span> <span class="kw">regress</span> F518_SUF <span class="ot">`uv&#39;</span></span>
<span id="cb151-7"><a href="regres.html#cb151-7" aria-hidden="true" tabindex="-1"></a>    mat D = <span class="fu">r</span>(<span class="kw">table</span>)&#39;                       <span class="co">// reg-tabelle transponieren &amp; speichern </span></span>
<span id="cb151-8"><a href="regres.html#cb151-8" aria-hidden="true" tabindex="-1"></a>    mat D2 = D[<span class="fu">rownumb</span>(D,<span class="st">&quot;2.S1&quot;</span>),1...]      <span class="co">// Koeffizient für S1=2 behalten</span></span>
<span id="cb151-9"><a href="regres.html#cb151-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb151-10"><a href="regres.html#cb151-10" aria-hidden="true" tabindex="-1"></a>    mat M = <span class="ot">`r&#39;</span></span>
<span id="cb151-11"><a href="regres.html#cb151-11" aria-hidden="true" tabindex="-1"></a>    mat colname M = <span class="fu">mod</span></span>
<span id="cb151-12"><a href="regres.html#cb151-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb151-13"><a href="regres.html#cb151-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (<span class="ot">`r&#39;</span> == 1) mat R = D2 , M            <span class="co">// ,r -&gt; zähler an Koeffizientzeile anfügen</span></span>
<span id="cb151-14"><a href="regres.html#cb151-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> (<span class="ot">`r&#39;</span> != 1) mat R = R\(D2 , M)</span>
<span id="cb151-15"><a href="regres.html#cb151-15" aria-hidden="true" tabindex="-1"></a>    glo cmd<span class="ot">`r&#39;</span> = <span class="st">&quot;`e(cmdline)&#39;&quot;</span></span>
<span id="cb151-16"><a href="regres.html#cb151-16" aria-hidden="true" tabindex="-1"></a>    loc ++<span class="fu">r</span> <span class="co">// Zähler + 1</span></span>
<span id="cb151-17"><a href="regres.html#cb151-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb151-18"><a href="regres.html#cb151-18" aria-hidden="true" tabindex="-1"></a>mat <span class="ot">l</span> R</span></code></pre></div>
<div class="sourceCode" id="cb152"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb152-1"><a href="regres.html#cb152-1" aria-hidden="true" tabindex="-1"></a>R[6,10]</span>
<span id="cb152-2"><a href="regres.html#cb152-2" aria-hidden="true" tabindex="-1"></a>               b          se           t      pvalue          ll          ul          df        crit       <span class="kw">eform</span>         <span class="fu">mod</span></span>
<span id="cb152-3"><a href="regres.html#cb152-3" aria-hidden="true" tabindex="-1"></a>2.S1  -1431.8093   53.630001  -26.697917   8.52e-154  -1536.9298  -1326.6888       16633   1.9601066           0           1</span>
<span id="cb152-4"><a href="regres.html#cb152-4" aria-hidden="true" tabindex="-1"></a>2.S1  -628.91281   55.392637  -11.353726   9.461e-30  -737.48935  -520.33627       14656   1.9601259           0           2</span>
<span id="cb152-5"><a href="regres.html#cb152-5" aria-hidden="true" tabindex="-1"></a>2.S1   -661.6656   55.679749  -11.883416   2.034e-32  -770.80492  -552.52628       14655   1.9601259           0           3</span>
<span id="cb152-6"><a href="regres.html#cb152-6" aria-hidden="true" tabindex="-1"></a>2.S1  -664.94219   53.793012  -12.361126   6.336e-35  -770.38328  -559.50111       14633   1.9601261           0           4</span>
<span id="cb152-7"><a href="regres.html#cb152-7" aria-hidden="true" tabindex="-1"></a>2.S1  -700.71303   54.028438  -12.969337   2.975e-38  -806.61563  -594.81043       14552    1.960127           0           5</span>
<span id="cb152-8"><a href="regres.html#cb152-8" aria-hidden="true" tabindex="-1"></a>2.S1  -717.33567   54.061055  -13.268991   5.977e-40  -823.30221  -611.36914       14551    1.960127           0           6</span></code></pre></div>
<p>Diese <code>matrix</code> R schicken wir jetzt in einen <code>frame</code>:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb153-1"><a href="regres.html#cb153-1" aria-hidden="true" tabindex="-1"></a>cap frame <span class="kw">drop</span> rmods</span>
<span id="cb153-2"><a href="regres.html#cb153-2" aria-hidden="true" tabindex="-1"></a>xsvmat R,  names(col) <span class="ot">rownames</span>(coef) frame(rmods)</span>
<span id="cb153-3"><a href="regres.html#cb153-3" aria-hidden="true" tabindex="-1"></a>frame change rmods</span>
<span id="cb153-4"><a href="regres.html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="regres.html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span>, <span class="kw">noobs</span> <span class="kw">clean</span></span></code></pre></div>
<div class="sourceCode" id="cb154"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb154-1"><a href="regres.html#cb154-1" aria-hidden="true" tabindex="-1"></a>coef           b         se           t     pvalue          ll          ul      df       crit   <span class="kw">eform</span>   <span class="fu">mod</span>  </span>
<span id="cb154-2"><a href="regres.html#cb154-2" aria-hidden="true" tabindex="-1"></a>2.S1   -1431.809      53.63   -26.69792          0    -1536.93   -1326.689   16633   1.960107       0     1  </span>
<span id="cb154-3"><a href="regres.html#cb154-3" aria-hidden="true" tabindex="-1"></a>2.S1   -628.9128   55.39264   -11.35373   9.46e-30   -737.4893   -520.3362   14656   1.960126       0     2  </span>
<span id="cb154-4"><a href="regres.html#cb154-4" aria-hidden="true" tabindex="-1"></a>2.S1   -661.6656   55.67975   -11.88342   2.03e-32   -770.8049   -552.5263   14655   1.960126       0     3  </span>
<span id="cb154-5"><a href="regres.html#cb154-5" aria-hidden="true" tabindex="-1"></a>2.S1   -664.9422   53.79301   -12.36113   6.34e-35   -770.3833   -559.5011   14633   1.960126       0     4  </span>
<span id="cb154-6"><a href="regres.html#cb154-6" aria-hidden="true" tabindex="-1"></a>2.S1    -700.713   54.02844   -12.96934   2.97e-38   -806.6156   -594.8104   14552   1.960127       0     5  </span>
<span id="cb154-7"><a href="regres.html#cb154-7" aria-hidden="true" tabindex="-1"></a>2.S1   -717.3357   54.06105   -13.26899          0   -823.3022   -611.3691   14551   1.960127       0     6  </span></code></pre></div>
<p>Jetzt wissen zwar schon mal, aus welchem Modell der Koeffizient jeweils kommt (basierend auf <code>mod</code>).
Eigentlich würden das aber gerne labeln.
Dazu können wir jetzt auf die <code>globals</code> zurückgreifen - mit <a href="macro.html#allglo"><code>all globals</code></a> können wir nach ihnen suchen:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb155-1"><a href="regres.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> allglo:  <span class="ot">all</span> globals <span class="st">&quot;cmd*&quot;</span></span>
<span id="cb155-2"><a href="regres.html#cb155-2" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">l</span> allglo</span>
<span id="cb155-3"><a href="regres.html#cb155-3" aria-hidden="true" tabindex="-1"></a>allglo:         cmd6 cmd5 cmd4 cmd3 cmd2 cmd1</span></code></pre></div>
<div class="sourceCode" id="cb156"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb156-1"><a href="regres.html#cb156-1" aria-hidden="true" tabindex="-1"></a>mac <span class="ot">l</span> cmd1</span>
<span id="cb156-2"><a href="regres.html#cb156-2" aria-hidden="true" tabindex="-1"></a>cmd1:           <span class="kw">regress</span> F518_SUF i.S1</span></code></pre></div>
<p>Jetzt können wir mit einer Schleife die Spalte <code>mod</code> labeln.
Mit <code>label define ....</code> können Wertelabels erstellt werden - mit der Option <code>,modify</code> können wir das auch schrittweise verändern.
Außerdem können wir einen kleinen Trick nutzen, um innerhalb der Schleife auf das <code>global</code> mit einer bestimmten Zahl zuzugreifen:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb157-1"><a href="regres.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="kw">levelsof</span> <span class="fu">mod</span>, loc(mnrs)</span>
<span id="cb157-2"><a href="regres.html#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">foreach</span> <span class="fu">m</span> <span class="kw">of</span> <span class="kw">local</span> mnrs {</span>
<span id="cb157-3"><a href="regres.html#cb157-3" aria-hidden="true" tabindex="-1"></a>    lab def mod_lab <span class="ot">`m&#39;</span> <span class="st">&quot;${cmd`m&#39;}&quot;</span>, modify <span class="co">// value label verändern </span></span>
<span id="cb157-4"><a href="regres.html#cb157-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb157-5"><a href="regres.html#cb157-5" aria-hidden="true" tabindex="-1"></a>lab val <span class="fu">mod</span> mod_lab</span>
<span id="cb157-6"><a href="regres.html#cb157-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-7"><a href="regres.html#cb157-7" aria-hidden="true" tabindex="-1"></a><span class="ot">list</span>, <span class="kw">noobs</span> <span class="kw">clean</span></span></code></pre></div>
<div class="sourceCode" id="cb158"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb158-1"><a href="regres.html#cb158-1" aria-hidden="true" tabindex="-1"></a>    coef           b         se           t     pvalue          ll          ul      df       crit   <span class="kw">eform</span>                                                                              <span class="fu">mod</span>  </span>
<span id="cb158-2"><a href="regres.html#cb158-2" aria-hidden="true" tabindex="-1"></a>    2.S1   -1431.809      53.63   -26.69792          0    -1536.93   -1326.689   16633   1.960107       0                                                            <span class="kw">regress</span> F518_SUF i.S1  </span>
<span id="cb158-3"><a href="regres.html#cb158-3" aria-hidden="true" tabindex="-1"></a>    2.S1   -628.9128   55.39264   -11.35373   9.46e-30   -737.4893   -520.3362   14656   1.960126       0                                                     <span class="kw">regress</span> F518_SUF i.S1 c.F200  </span>
<span id="cb158-4"><a href="regres.html#cb158-4" aria-hidden="true" tabindex="-1"></a>    2.S1   -661.6656   55.67975   -11.88342   2.03e-32   -770.8049   -552.5263   14655   1.960126       0                                       <span class="kw">regress</span> F518_SUF i.S1 c.F200 c.F200#c.F200  </span>
<span id="cb158-5"><a href="regres.html#cb158-5" aria-hidden="true" tabindex="-1"></a>    2.S1   -664.9422   53.79301   -12.36113   6.34e-35   -770.3833   -559.5011   14633   1.960126       0                               <span class="kw">regress</span> F518_SUF i.S1 c.F200 c.F200#c.F200 i.m1202  </span>
<span id="cb158-6"><a href="regres.html#cb158-6" aria-hidden="true" tabindex="-1"></a>    2.S1    -700.713   54.02844   -12.96934   2.97e-38   -806.6156   -594.8104   14552   1.960127       0                       <span class="kw">regress</span> F518_SUF i.S1 c.F200 c.F200#c.F200 i.m1202 zpalter  </span>
<span id="cb158-7"><a href="regres.html#cb158-7" aria-hidden="true" tabindex="-1"></a>    2.S1   -717.3357   54.06105   -13.26899          0   -823.3022   -611.3691   14551   1.960127       0   <span class="kw">regress</span> F518_SUF i.S1 c.F200 c.F200#c.F200 i.m1202 zpalter c.zpalter#c.zpalter  </span></code></pre></div>
<p>Daraus können wir beispielsweise einen Koeffizientenplot erstellen:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode stata"><code class="sourceCode stata"><span id="cb159-1"><a href="regres.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">twoway</span> <span class="co">///</span></span>
<span id="cb159-2"><a href="regres.html#cb159-2" aria-hidden="true" tabindex="-1"></a>    (rcap ll ul <span class="fu">mod</span>,horizontal lcolor(<span class="st">&quot;57 65 101&quot;</span>) ) <span class="co">/// Konfidenzintervalle</span></span>
<span id="cb159-3"><a href="regres.html#cb159-3" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">scatter</span> <span class="fu">mod</span> b,  mcolor(<span class="st">&quot;177 147 74&quot;</span>) )  , <span class="co">/// Punktschätzer</span></span>
<span id="cb159-4"><a href="regres.html#cb159-4" aria-hidden="true" tabindex="-1"></a>    graphregion(fcolor(<span class="bn">white</span>)) <span class="co">/// Hintergundfarbe (außerhalb des eigentlichen Plots)</span></span>
<span id="cb159-5"><a href="regres.html#cb159-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ylabel</span>(, valuelabel angle(0) <span class="bn">labsize</span>(tiny)) <span class="co">///</span></span>
<span id="cb159-6"><a href="regres.html#cb159-6" aria-hidden="true" tabindex="-1"></a>    <span class="bn">legend</span>(<span class="kw">off</span>) <span class="co">///</span></span>
<span id="cb159-7"><a href="regres.html#cb159-7" aria-hidden="true" tabindex="-1"></a>    <span class="bn">xtitle</span>(<span class="st">&quot;Einkommen (W) vs. Einkommen (M)&quot;</span>) <span class="co">/// Achsentitel</span></span>
<span id="cb159-8"><a href="regres.html#cb159-8" aria-hidden="true" tabindex="-1"></a>    <span class="bn">ytitle</span>(<span class="st">&quot;&quot;</span>) <span class="co">/// </span></span>
<span id="cb159-9"><a href="regres.html#cb159-9" aria-hidden="true" tabindex="-1"></a>    <span class="bn">title</span>(<span class="st">&quot;Titel&quot;</span>)  <span class="co">///</span></span>
<span id="cb159-10"><a href="regres.html#cb159-10" aria-hidden="true" tabindex="-1"></a>    <span class="bn">subtitle</span>(<span class="st">&quot;Untertitel&quot;</span>) <span class="co">///</span></span>
<span id="cb159-11"><a href="regres.html#cb159-11" aria-hidden="true" tabindex="-1"></a>    <span class="bn">caption</span>(<span class="st">&quot;{it:Quelle: Erwerbstätigenbefragung 2018}&quot;</span>, <span class="kw">size</span>(8pt) <span class="bn">position</span>(5) <span class="bn">ring</span>(5) )</span></code></pre></div>
<pre><code>Error in knitr::include_graphics(&quot;./graph/Regplot.png&quot;): Cannot find the file(s): &quot;./graph/Regplot.png&quot;</code></pre>
<p>Diese labels sind natürlich alles andere als ideal. Im nächsten Kapitel werden wir einige Möglichkeiten kennenlernen, da etwas zu ändern.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="loopmacro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="labmacro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Progammieren mit Stata BIBB.pdf", "Progammieren mit Stata BIBB.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
